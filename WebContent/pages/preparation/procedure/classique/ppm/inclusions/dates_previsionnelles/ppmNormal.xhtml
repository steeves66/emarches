<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//FR" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:panelGroup  layout="block" id="ppmNormal" >  
     <p:tab id="ope222" rendered="#{ppmController.pavetPPM}" title="Dates prévisionnelles" titleStyle="background-color: #f88b2e;background-image: none">
			         <div class="row">
			     <div class="col-md-8 col-md-offset-2">
			     
			      
	<div class="col-md-12">
             <div class="box box-success box-solid">
        <div class="box-header with-border">
            <div  style="color: #fff">CHOIX DU DOSSIER TYPE</div>
            <div class="col-md-6"><div  style="color: #fff">
	              <div class="col-sm-6"></div>
            </div></div>
  
         </div>
          <div class="box-body">
          <div class="row"> 
      
           <div class="col-md-12">
		    <div class="form-group">
		   <label for="moldao27" class="col-sm-2 control-label">Dossier Type<span style="color:red;"> *</span></label>
            <div class="col-sm-10">
		         <p:selectOneMenu id="moldao27" required="true" requiredMessage="Veuillez choisir le Dossier-type" value="#{ppmController.tydCode}" effect="fade" style="width:100%" filter="true" filterMatchMode="startsWith">
			      <f:selectItem  itemLabel="Choisir le type DAC.." itemValue="empty" />  
			       <f:selectItems value="#{ppmController.listeModele}" var="pr" itemLabel="#{pr.mdtLibelleLong}" itemValue="#{pr.mdtCode}" />			   				   
				<f:selectItems />				   				    				   
		       	</p:selectOneMenu>
	         </div>
		    </div> 

             </div>
                             
		   </div>
          </div>     
         </div>
         </div>		     
			     
			     
     <div class="col-md-12">
             <div class="box box-success box-solid">
        <div class="box-header with-border">
            <div  style="color: #fff">PREPARATION DE LA PROCEDURE (1)</div>
            <div class="col-md-6"><div  style="color: #fff">
	              <div class="col-sm-6"></div>
            </div></div>
            
         </div>
          <div class="box-body">
          <div class="row"> 
      
             <div class="col-md-6">
             <h:panelGroup rendered="#{controleController.validDMP}"> 
		    <div class="form-group">
		       
		                  <label for="valdao2" class="col-sm-6 control-label">Validation DAO par la #{controleController.structureLibAbrege}<span style="color:red;"> *</span></label>
		                  <div class="col-sm-6">
		                   <p:calendar id="valdao2" value="#{ppmController.geneDate.dppDateDaoApprobDmp}" mask="true" locale="fr" pattern="dd/MM/yyyy" style="width: 100%" >
		                   <p:ajax event="dateSelect" listener="#{ppmController.genereDate('dppDateDaoApprobDmp')}"  update=":gnl" />
		                   </p:calendar> 
		                  </div>
		    </div>
		    </h:panelGroup> 
		    
		    <h:panelGroup rendered="#{controleController.validCPMP}">
		    <div class="form-group">
		                  <label for="valcp2" class="col-sm-6 control-label">Validation par CPMP<span style="color:red;"> *</span></label>
		                  <div class="col-sm-6">
		                   <p:calendar id="valcp2" value="#{ppmController.geneDate.dppDateAttApprobCpmp}" mask="true" locale="fr" pattern="dd/MM/yyyy" style="width: 100%">
		                   <p:ajax event="blur" listener="#{ppmController.genereDate('dppDateAttApprobCpmp')}"  update=":gnl" />
		                   <p:ajax event="dateSelect" listener="#{ppmController.genereDate('dppDateAttApprobCpmp')}"  update=":gnl" />
		                   </p:calendar> 
		                  </div>
		    </div> 
		    </h:panelGroup>
             </div>
             <div class="col-md-6">
               <div class="form-group">
		                  <label for="baildao2" class="col-sm-6 control-label">Validation DAO Bail</label>
		                  <div class="col-sm-6">
		                   <p:calendar id="baildao2" value="#{ppmController.geneDate.dppDateDaoApprobBail}" mask="true" locale="fr" pattern="dd/MM/yyyy" style="width: 100%" >
		                   <p:ajax event="blur" listener="#{ppmController.genereDate('dppDateDaoApprobBail')}"  update=":gnl" />
		                   <p:ajax event="dateSelect" listener="#{ppmController.genereDate('dppDateDaoApprobBail')}"  update=":gnl" />
		                   </p:calendar> 
		                </div>
		                </div> 
             </div>
             
             <h:panelGroup rendered="#{controleController.etatPsc}">
            <div class="col-md-6">
             <div class="form-group">
             <label for="solEnt1" class="col-sm-6 control-label">Sollicitation des Factures<span style="color:red;"> *</span></label>
		                  <div class="col-sm-6">
		                   <p:calendar id="solEnt1" value="#{ppmController.geneDate.dppDateSolFact}" mask="true" locale="fr" pattern="dd/MM/yyyy" style="width: 100%" >
		                    <p:ajax event="blur" listener="#{ppmController.genereDate('dppDateSolFact')}"  update=":gnl" />
		                   <p:ajax event="dateSelect" listener="#{ppmController.genereDate('dppDateSolFact')}"  update=":gnl" />
		                   </p:calendar> 
		                  </div>
             </div>
             
             
             <div class="form-group">
              <label for="solFact1" class="col-sm-6 control-label">Reception des Factures<span style="color:red;"> *</span></label>
		                  <div class="col-sm-6">
		                   <p:calendar id="solFact1" value="#{ppmController.geneDate.dppDateRecepFact}"  mask="true" locale="fr" pattern="dd/MM/yyyy" style="width: 100%" >
		                    <p:ajax event="blur" listener="#{ppmController.genereDate('dppDateRecepFact')}"  update=":gnl" />
		                    <p:ajax event="dateSelect" listener="#{ppmController.genereDate('dppDateRecepFact')}"  update=":gnl" />
		                   </p:calendar> 
		                  </div>
             </div>
              </div>
              </h:panelGroup>
             
             
             <h:panelGroup rendered="#{controleController.etatPsl}">
             <div class="col-md-6">
              <div class="form-group">
		                  <label for="invAoo1" class="col-sm-6 control-label">Invitation des Entreprises<span style="color:red;"></span></label>
		                  <div class="col-sm-6">
		                   <p:calendar id="invAoo1" value="#{ppmController.geneDate.dppInvEntre}" mask="true" locale="fr" pattern="dd/MM/yyyy"  style="width: 100%" >
		                   <p:ajax event="dateSelect" listener="#{ppmController.genereDate('dppInvEntre')}"  update=":gnl" />
		                   </p:calendar> 
		                  </div>
		        </div>
             
             
             <div class="form-group">
              <label for="repFact1" class="col-sm-6 control-label">Reception des Lettres d'Intention<span style="color:red;"> *</span></label>
		                  <div class="col-sm-6">
		                   <p:calendar value="#{ppmController.geneDate.dppDateRecepLettr}" id="repFact1"   mask="true" locale="fr" pattern="dd/MM/yyyy" style="width: 100%" >
		                   <p:ajax event="blur" listener="#{ppmController.genereDate('dppDateRecepLettr')}"  update=":gnl" />
		                   <p:ajax event="dateSelect" listener="#{ppmController.genereDate('dppDateRecepLettr')}"  update=":gnl" />
		                   </p:calendar> 
		                  </div>
             </div>
             </div>
             </h:panelGroup>
		  
		        
		                        
		   </div>
          </div>     
         </div>
         </div>
         

          <div class="col-md-12">
          <div class="box box-success box-solid">
        <div class="box-header with-border">
            <div  style="color: #fff">PASSATION DE MARCHE (2)</div>
         </div>
         <div class="box-body"></div>
		 <div class="row">
         <div class="col-md-6">
         <div class="form-group">
		                  <label for="oft" class="col-sm-6 control-label">Ouverture Technique<span style="color:red;"> *</span></label>
		                  <div class="col-sm-6">
		                   <p:calendar id="oft" value="#{ppmController.geneDate.dppDateOuvertOt}" mask="true" locale="fr" pattern="dd/MM/yyyy"  style="width: 100%" >
		                   <p:ajax event="dateSelect" listener="#{ppmController.genereDate('dppDateOuvertOt')}"  update=":gnl" />
		                    <p:ajax event="blur" listener="#{ppmController.genereDate('dppDateOuvertOt')}"  update=":gnl" />
		                   </p:calendar> 
		                  </div>
		                  </div>
		                  <div class="form-group">
		                  <label for="off" class="col-sm-6 control-label">Ouverture Financière<span style="color:red;"> *</span></label>
		                  <div class="col-sm-6">
		                   <p:calendar id="off" value="#{ppmController.geneDate.dppDateOuvertOf}" mask="true" locale="fr" pattern="dd/MM/yyyy"  style="width: 100%" >
		                   <p:ajax event="blur" listener="#{ppmController.genereDate('dppDateOuvertOf')}"  update=":gnl" />
		                   <p:ajax event="dateSelect" listener="#{ppmController.genereDate('dppDateOuvertOf')}"  update=":gnl" />
		                   </p:calendar> 
		                  </div>
		                </div>
		                 <div class="form-group">
		                  <label for="rapp" class="col-sm-6 control-label">Rapport d'évaluation<span style="color:red;"></span></label>
		                  <div class="col-sm-6">
		                   <p:calendar id="rapp" value="#{ppmController.geneDate.dppDateElabRapport}" mask="true" locale="fr"  pattern="dd/MM/yyyy" style="width: 100%" >
		                    <p:ajax event="dateSelect" listener="#{ppmController.genereDate('dppDateElabRapport')}"  update=":gnl" />
		                   </p:calendar> 
		                  </div>
		                </div>
		                 <div class="form-group">
		                  <label for="jug" class="col-sm-6 control-label">Jugement Technique<span style="color:red;"></span></label>
		                  <div class="col-sm-6">
		                   <p:calendar id="jug" value="#{ppmController.geneDate.dppDateJugementOffreTec}" mask="true" locale="fr" pattern="dd/MM/yyyy"  style="width: 100%" >
		                    <p:ajax listener="#{ppmController.genereDate('dppDateJugementOffreTec')}"  update=":gnl" />
		                   </p:calendar> 
		                  </div>
		                </div>
		                
		                <div class="form-group">
		                  <label for="notA" class="col-sm-6 control-label">Notification de l'Attribution<span style="color:red;"></span></label>
		                  <div class="col-sm-6">
		                   <p:calendar id="notA" value="#{ppmController.geneDate.dppDateNotAtt}" mask="true" locale="fr" pattern="dd/MM/yyyy"  style="width: 100%" >
		                   <p:ajax event="blur" listener="#{ppmController.genereDate('dppDateNotAtt')}"  update=":gnl" />
		                   <p:ajax event="dateSelect" listener="#{ppmController.genereDate('dppDateNotAtt')}"  update=":gnl" />
		                   </p:calendar> 
		                  </div>
		                </div>
		                
         </div>
         
         
         <div class="col-md-6">
       
		                 <div class="form-group">
		                  <label for="approbaAno" class="col-sm-6 control-label">ANO de la #{controleController.structureLibAbrege}</label>
		                  <div class="col-sm-6">
		                   <p:calendar id="approbaAno" value="#{ppmController.geneDate.dppApprobAno}" mask="true" locale="fr" pattern="dd/MM/yyyy" style="width: 100%" >
		                   <p:ajax event="dateSelect" listener="#{ppmController.genereDate('dppApprobAno')}"  update=":gnl" />
		                   </p:calendar> 
		                  </div>
		                </div>
		                
		                  <div class="form-group">
		                  <label for="approba" class="col-sm-6 control-label">ANO du Bailleur</label>
		                  <div class="col-sm-6">
		                   <p:calendar id="approba" value="#{ppmController.geneDate.dppDateAttApproBail}" mask="true" locale="fr" pattern="dd/MM/yyyy" style="width: 100%" >
		                   <p:ajax event="dateSelect" listener="#{ppmController.genereDate('dppDateAttApproBail')}"  update=":gnl" />
		                   </p:calendar> 
		                  </div>
		                </div>
		                
		                 <div class="form-group">
		                  <label for="neg" class="col-sm-6 control-label">Négociation<span style="color:red;"></span></label>
		                  <div class="col-sm-6">
		                   <p:calendar id="neg" value="#{ppmController.geneDate.dppDateNegociation}" mask="true" locale="fr" pattern="dd/MM/yyyy" style="width: 100%" >
		                   <p:ajax event="dateSelect" listener="#{ppmController.genereDate('dppDateNegociation')}"  update=":gnl" />
		                   </p:calendar> 
		                  </div>
		                  </div>
		                  
		                  <div class="form-group">
		                  <label for="jug2" class="col-sm-6 control-label">Jugement Financier<span style="color:red;"></span></label>
		                  <div class="col-sm-6">
		                   <p:calendar id="jug2" value="#{ppmController.geneDate.dppDateJugementOffre}" mask="true" locale="fr" pattern="dd/MM/yyyy"  style="width: 100%" >
		                   <p:ajax event="dateSelect" listener="#{ppmController.genereDate('dppDateJugementOffre')}"  update=":gnl" />
		                   </p:calendar> 
		                  </div>
		                </div>
		                  </div>
		                  </div>
         </div>
         </div>
         
                  <div class="col-md-12">
          <div class="box box-success box-solid">
        <div class="box-header with-border">
            <div  style="color: #fff">CONTRACTUALISATION (3)</div>
         </div>
         <div class="box-body">
         <div class="col-md-6">
            <div class="form-group">
		                  <label for="attr" class="col-sm-6 control-label">Signature Attributaire<span style="color:red;"> *</span></label>
		                  <div class="col-sm-6">
		                   <p:calendar id="attr" value="#{ppmController.geneDate.dppDateSignatAttrib}" mask="true" locale="fr" pattern="dd/MM/yyyy" style="width: 100%" >
		                   <p:ajax event="dateSelect" listener="#{ppmController.genereDate('dppDateSignatAttrib')}"  update=":gnl" />
		                   </p:calendar> 
		                  </div>
		                  </div>
		                  <div class="form-group">
		                  <label for="saiAc" class="col-sm-6 control-label">Signature de l'AC<span style="color:red;"> *</span></label>
		                  <div class="col-sm-6">
		                   <p:calendar id="saiAc" value="#{ppmController.geneDate.dppDateSignatAc}" mask="true"  pattern="dd/MM/yyyy" style="width: 100%" >
		                    <p:ajax event="dateSelect" listener="#{ppmController.genereDate('dppDateSignatAc')}"  update=":gnl" />
		                   </p:calendar> 
		                  </div>
		                </div>
         </div>
         <div class="col-md-6">
               <h:panelGroup id="psl_inv1">
				    <h:panelGroup rendered="#{controleController.etatPsl}">
                   <div class="form-group">
		                  <label for="marcheApprob" class="col-sm-6 control-label">Approbation du marché<span style="color:red;"> *</span></label>
		                  <div class="col-sm-6">
		                   <p:calendar id="marcheApprob" value="#{ppmController.geneDate.dppDateMarcheApprob}" mask="true" pattern="dd/MM/yyyy" style="width: 100%" >
		                   <p:ajax event="dateSelect" listener="#{ppmController.genereDate('dppDateMarcheApprob')}"  update=":gnl" />
		                   </p:calendar> 
		                  </div>
		                </div>
		                     
		                <div class="form-group">
		                  <label for="valDmp" class="col-sm-6 control-label">Validation Marché par la #{controleController.structureLibAbrege}<span style="color:red;"></span></label>
		                  <div class="col-sm-6">
		                   <p:calendar id="valDmp" mask="true" pattern="dd/MM/yyyy" value="#{ppmController.geneDate.dppDateAttApprobDmp}" style="width: 100%" >
		                   <p:ajax event="dateSelect" listener="#{ppmController.genereDate('dppDateAttApprobDmp')}"  update=":gnl" />
		                   </p:calendar> 
		                  </div>
		                </div>
		                
		            </h:panelGroup>
		         </h:panelGroup>
         </div>
         </div>
         
        
         </div>
         </div>
         <div class="col-md-12">
             <div class="box box-success box-solid">
	        <div class="box-header with-border">
	            <div  style="color: #fff">DATES D'EXECUTION (4)</div>
	         </div>
	         <div class="box-body">
			   <div class="row">
		         <div class="col-md-6">
		          <div class="form-group">
		                  <label for="debut" class="col-sm-6 control-label">Début d'execution du marché<span style="color:red;"> *</span></label>
		                  <div class="col-sm-6">
		                   <p:calendar id="debut" value="#{ppmController.geneDate.dppDateExecDebut}" mask="true" locale="fr" pattern="dd/MM/yyyy" style="width: 100%" >
		                   <p:ajax event="dateSelect" listener="#{ppmController.genereDate('dppDateExecDebut')}"  update=":gnl" />
		                   </p:calendar> 
		                  </div>
		                  </div>
		         </div>
		         <div class="col-md-6">
		         <div class="form-group">
		                  <label for="fin" class="col-sm-6 control-label">Fin d'execution du marché<span style="color:red;"> *</span></label>
		                  <div class="col-sm-6">
		                   <p:calendar id="fin" value="#{ppmController.geneDate.dppDateExecFin}" mask="true" locale="fr" pattern="dd/MM/yyyy" style="width: 100%" >
		                   <p:ajax event="dateSelect" listener="#{ppmController.genereDate('dppDateExecFin')}"  update=":gnl" />
		                   </p:calendar> 
		                  </div>
		                </div>
		         </div>
	          </div>
	         </div>
	         
	         
         </div>
     
     
     
   <div class="row">
          <div class="col-md-12">
             <h:panelGroup rendered="#{userController.fonction.TTypeFonction.tyfCod == 'ACR'}">
       <p:commandLink  styleClass="btn btn-success row pull-right"  action="#{ppmController.majDate()}" rendered="#{controleController.btn_creerDetailPpm}" style="background-color: #036d3b; margin-right:5px;color:#fff"   update=":content">
			            <p:confirm header="Confirmation" message="Confirmez vous l'enregistrement?" icon="ui-icon-alert" />
			             <i class="ace-icon fa fa-save"></i> Enregistrer
	   </p:commandLink>
	   
	     <p:commandLink  styleClass="btn btn-success row pull-right"  action="#{ppmController.majDate()}" rendered="#{controleController.btn_creerDetailPspm}" style="background-color: #036d3b; margin-right:5px;color:#fff"   update=":content">
			            <p:confirm header="Confirmation" message="Confirmez vous l'enregistrement?" icon="ui-icon-alert" />
			             <i class="ace-icon fa fa-save"></i> Enregistrer PSPM
	   </p:commandLink>
	   <p:commandLink  styleClass="btn btn-success row pull-right"  action="#{ppmController.majDate()}" rendered="#{controleController.btn_maj_datePpm}" style="background-color: #036d3b; margin-right:5px;color:#fff"   update=":content">
			            <p:confirm header="Confirmation" message="Confirmez vous l'enregistrement?" icon="ui-icon-alert" />
			             <i class="ace-icon fa fa-save"></i> Enregistrer date
	   </p:commandLink>
	 
	   <p:commandLink  styleClass="btn btn-success row pull-right"  action="#{ppmController.majDate()}" rendered="#{controleController.btn_maj_datePspm}" style="background-color: #036d3b; margin-right:5px;color:#fff"   update=":content">
			            <p:confirm header="Confirmation" message="Confirmez vous l'enregistrement?" icon="ui-icon-alert" />
			             <i class="ace-icon fa fa-save"></i> Enregistrer date
	   </p:commandLink>
	   </h:panelGroup>
          </div>
         
         </div>  
     
         </div>
         
         </div>
       </div>
	</p:tab>
    
     </h:panelGroup>     
</html>