<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
     <link rel="stylesheet" href="../resources/assets/css/ace.min.css"/>
<ui:composition template="/template/templatePage.xhtml">

	
	<ui:define name="contents">
	<h:form id="gnl" styleClass="form-horizontal">
<section class="content-header">
      <h1>
        <!-- #{controleController.libelle} -->
        <!-- SAISIE D'UN NOUVEAU DAO  -->
        #{controleController.libelleDao3}
        <small> #{controleController.libellesmall} </small> 
      </h1>
      <ol class="breadcrumb">
      <li>
        <p:commandLink action="#{userController.renderPage('accueil')}" update=":content" > 
            <i class="fa fa-dashboard"></i>Accueil
             </p:commandLink>
            </li>
        <li>
        <p:commandLink action="#{daoPsController.renderPage('dps1')}" update=":content" > 
            <i class="fa fa-dashboard"></i>#{controleController.type} | Index
             </p:commandLink>
            </li>
        <li class="active">
         <p:commandLink action="#{daoPsController.renderPage('dps2')}" update=":content" > 
            <!-- <i class="fa fa-dashboard"></i>AGPM | #{controleController.libelle1}  -->
            <!-- Saisie d'un nouveau DAO --> 
            #{controleController.libelle1}
             </p:commandLink>
        </li>
      </ol>
    </section>
    
    <section class="content">
     <div class="box"></div>
   
     
     <p:wizard flowListener="#{daoPsController.onFlowProcess}" id="pwz" nextLabel="Suivant" backLabel="Précédent" >
     
      <p:tab id="PBailleur" title="Avis du Bailleur" rendered="#{daoPsController.panelAvisBailleur}" titleStyle="background-color: #f88b2e;background-image: none">
           <div class="row">    
            <div class="col-md-12">
            
            	 <h:panelGroup rendered="#{userController.renderMsg}">
				<br/>
				<div class="alert alert-success light alert-dismissable" >
				 <p:commandLink  styleClass="close" data-dismiss="alert" aria-hidden="true" 
				  action="#{userController.initMessage()}"  update=":content">
				<span class="hidden-xs"> x</span>
				</p:commandLink>
				<i class="fa fa-check pr10"></i>
				<strong>Succès!</strong> #{userController.texteMsg}.</div>
				</h:panelGroup> 
			
            
                    <div class="box box-success box-solid">
        <div class="box-header with-border">
            <div class="col-md-9 "><div  style="color: #fff">AVIS DU BAILLEUR</div></div> 
         </div>
         <div class="box-body">
         <p:messages id="messages" showDetail="false" autoUpdate="true"  closable="true"/> 
             <div class="row">
             
              <div class="col-md-6">
              
                <div class="form-group">
                  <label  class="col-sm-3 control-label">Date de L'avis<span style="color:red;"> *</span></label>
				  <div class="col-sm-9">
                    <table>
		                 <tr>
		                 <td>
		                  <p:calendar id="oftT" pattern="dd/MM/yyyy" value="#{daoPsController.slctdTd.affDacDateBailleur}" style="width: 100%" >
		                   </p:calendar>
		                 </td>
		                 
		                 </tr>
                     </table>
                  </div>
                </div>
	          
	          <div class="form-group">
                  <label for="avis" class="col-sm-3 control-label">Avis du Bailleur<span style="color:red;"> *</span></label>
                  <div class="col-sm-9">
                   <p:inputTextarea placeholder="Avis du Bailleur" rows="5" cols="60" styleClass="form-control" value="#{daoPsController.slctdTd.affDacAvisBailleur}" id="avisB" style="width: 100%" />
                  </div>
              </div>	
                        
            </div>
             </div>
                  <br/> 
                 <div class="pull-right ">
			            <p:commandLink action="#{daoPsController.saveAvisBailleur()}" styleClass="btn btn-success row pull-right" style="background-color: #036d3b; margin-right:5px;color:#fff"  update="gnl:PBailleur">
			            <p:confirm header="Confirmation" message="Confirmez vous l'enregistrement?" icon="ui-icon-alert" />
			             <i class="ace-icon fa fa-save"></i> Enregistrer
			            </p:commandLink>
                 </div> 
         </div>
         
         
         </div>
         </div>
           </div>
         </p:tab>
         
            <p:tab id="Dossiers" rendered= "#{daoPsController.panelBailleurFichier}" title="Fichier(s) Joint(s)" titleStyle="background-color: #f88b2e;background-image: none">
            <p:panel header="Fichier(s) Joint(s)">
            
            <div class="row">
                   <div class="col-xs-12"><p:messages id="message1" showDetail="false" autoUpdate="true"  closable="true"/></div>
             </div>
				
	            <div class="col-md-12">
	             <div class="form-group ">
	              <div class="col-xs-6 col-sm-8">
                     
                  </div>
	                </div>
	            <div class="col-xs-6 col-sm-4"><label class="control-label" style="margin-top:20px"><b>Nature du document</b></label></div>
								<div class="col-xs-6 col-sm-8">
								<p:selectOneMenu  value="#{daoPsController.docNature}" style="width:100%; margin-top:20px;">
							        <f:selectItem  itemLabel="Selectionnez la nature du document..." itemValue=""/>  
								    <f:selectItems value="#{daoPsController.natureDocListe}" var="v" itemLabel="#{v.nadLibelle}" itemValue="#{v.nadCode}"/> 
								    <p:ajax process="@this" update="@this"></p:ajax>
				       			    </p:selectOneMenu>
								</div>
				</div>
	            <div class="col-md-12">
	              <p:fileUpload fileUploadListener="#{daoPsController.uploadBailleur}" multiple="true"
			                      cancelLabel="Annuler" label="Choisir le(s) document(s)" uploadLabel="Charger le dao" auto="true"
			                      mode="advanced" dragDropSupport="true"
			                          update=":apercuDAOCharge:tabDossierCharge" sizeLimit="50000000" allowTypes="/(\.|\/)(gif|jpe?g|png|mp4|vob|mpeg|avi|mpg|mp3|mkv|flv|m4v|doc?x|doc|mov|pdf|xls?x)$/" />
	            </div>
	            
	            <div class="col-md-12">
		            <div class="box box-success box-solid" >
		              <div class="box-header with-border">
			          <div class="col-md-12 "><div  style="color: #fff"> LISTE DES #{controleController.type}</div></div>
			         </div>
			          <div class="box-body">
			          
                        <p:dataTable id="tabDossierCharge" styleClass="table dt-on-steroids mb0" var="doss" value="#{daoPsController.dossListe}" emptyMessage="Aucun Document enrégistré">
			           <p:column headerText="Nom du document " styleClass="col-md-10">
			            <h:outputText value="#{doss.ddaNom}" />
			        </p:column>
			        <p:column headerText="Nature Document" styleClass="col-md-10">
			            <h:outputText value="#{doss.TNatureDocuments.nadLibelle}"/>
			        </p:column>
			        
			        <p:column headerText="Actions" styleClass="col-md-2">
			        
						<p:commandLink styleClass="btn btn-xs btn-danger" style= "margin-left:5px" action="#{daoPsController.removeDossier}" title="Supprimer" update="gnl">
		                   <i class="ace-icon fa fa-trash bigger-120"  style="color: white"></i>  
		                   <p:confirm header="Confirmation" message="Etes-vous sur de vouloir supprimer ?" icon="ui-icon-alert" />                              
		                   <f:setPropertyActionListener value="#{doss}" target="#{daoPsController.selectedDossier}" />
		                </p:commandLink>
		 	        </p:column>
			    </p:dataTable>  
			          </div>
		            </div>
	            </div>
	            
            </p:panel>
            </p:tab>
     
     
        <p:tab id="creation" title="Initiation du #{controleController.type}" rendered="#{daoPsController.pavet2}" titleStyle="background-color: #f88b2e;background-image: none">
       
           <div class="row">
            <div class="col-md-12">
               
          <h:panelGroup rendered="#{controleController.ppmModePn}">     
           <div class="row">
            <div class="col-md-12">
              <div class="box box-success box-solid">
               <div class="box-header with-border">
                <div class="col-md-12 ">
                   <div  style="color: #fff">CHOISIR LE(S) PPM POUR CREER VOTRE #{controleController.type}</div>
                 </div>
                </div>
               <div class="box-body">
                 <div class="input-group input-group-sm col-md-3">
                      <label >
                      <p:inputText type="text"  value="#{daoPsController.multiFiltre}"  placeholder="saisir du PPM"/> 	
					</label>
					
					<button type="button" class="btn btn-xs btn-success" style="background-color: #036d3b">
                      <p:commandLink  title="Recherche" action="#{daoPsController.chargeRecherchePPM()}" update=":gnl">
                       <i class="ace-icon fa fa-search-plus bigger-130"  style="color: white"></i>
                      </p:commandLink>
                     </button>
                        

                      <span class="input-group-btn">
                        <p:commandLink styleClass="btn btn-warning btn-flat" action="#{daoPsController.chargePPM()}" value="Réinitialiser" style=" background-color: #f88b2e" update=":content" />
                        </span>
					 </div>
               <p:dataTable id="tblnat" styleClass="table mb0 dt-on-steroids dataTable" var="slctdTb" value="#{daoPsController.ppmDao}" 
					rowKey="#{slctdTb.dppId}" selection="#{daoPsController.listSelectionPpmDao}" emptyMessage="Aucun PPM enregistré" rows="5" 
                         paginator="true"
                         rowsPerPageTemplate="5,10,15" >
                         
                         <p:column selectionMode="multiple" style="width:40px;text-align:center"/>
                         
                         <p:column headerText="Objet de l'Opération" styleClass="col-sm-3" >
         				<h:outputText value="#{slctdTb.dppObjet}" />
				        </p:column>

                     
				       <p:column headerText="Ligne Budgétaire" styleClass="col-sm-2" >
         				<h:outputText value="#{slctdTb.lbgImputation}" />
				        </p:column>
				        <p:column headerText="Type Marché" styleClass="col-sm-3" >
         				<h:outputText value="#{slctdTb.tymLibelleCourt}" />
				        </p:column>
				       
         				 <p:column headerText="Structure Conductrice" styleClass="col-sm-4" >
         				<h:outputText value="#{slctdTb.dppStructureConduc}" />
				        </p:column> 
         				<p:column headerText="Structure Bénéficiare" styleClass="col-sm-3" >
         				<h:outputText value="#{slctdTb.dppStructureBenefi}" />
				        </p:column> 
				        
				       
                    </p:dataTable>
                    
                   <div>
                   
                   </div>

              </div>
             </div>
           </div>
         </div>
         </h:panelGroup>
         
         
        <div class="row">
          <div class="col-md-12">
           <div class="box box-success box-solid">
            <div class="box-header with-border">
             <div class="col-md-12 ">
               <div  style="color: #fff">INFORMATIONS A SAISIR SUR LE #{controleController.type}</div>
             </div>
            </div>
           <div class="box-body">
	           <div class="row">
	          <div class="col-md-6">
	           <div class="form-group">
                  <label for="relalisation" class="col-sm-3 control-label">Objet de l'Opération</label>
                  <div class="col-sm-9">
                    <p:inputTextarea  rows="2" cols="33" styleClass="form-control" value="#{daoPsController.updateDac.dacObjet}" id="relalisation" style="width: 100%" />
                  </div>
              </div>
               
                 <div class="form-group">
                  <label class="col-sm-3 control-label">Type de marché<span style="color:red;"> *</span></label>
				  <div class="col-sm-9">
		                <p:inputText id="typMa1" type="text" value="#{daoPsController.updateDac.dacTymCode} : #{daoPsController.updateDac.tymLibelleCourt}" styleClass="form-control"  readonly="true" style="width: 100%" />
                  </div>
                </div> 
                 
              
                 <div class="form-group">
                  <label  class="col-sm-3 control-label">Mode de passation<span style="color:red;"> *</span></label>
				  <div class="col-sm-9">
                  <p:inputText id="modeP2" type="text" value="#{daoPsController.daoDetail.mopCode} : #{daoPsController.updateDac.mopLibelleLong}" styleClass="form-control"  readonly="true" style="width: 100%" />    
                  </div>
                </div> 
            
	          </div>
	           <div class="col-md-6">
	               <fieldset>
		               <legend>Liste des pièces constitutives du #{controleController.type}</legend>
		  <p:dataTable id="basicDT" styleClass="table dt-on-steroids mb0" var="slctdTb" value="#{daoPsController.listePiecesDao}"
                        emptyMessage="Aucune pièce trouvée">
          
	        <p:column headerText="Code" styleClass="col-sm-2">
	            <h:outputText value="#{slctdTb.pidTpiCode}" />
	        </p:column>
	        
	         <p:column headerText="Piece " styleClass="col-sm-10">
	            <h:outputText value="#{slctdTb.pidLibelle}" />
	        </p:column>
	        
	        </p:dataTable>
	        
       
		      </fieldset>
		           
		           
	          </div>
	         
	          </div>
	          
	           
          </div>
          <p:commandLink  styleClass="btn btn-success row pull-right" rendered="#{controleController.btn_dao_pn}" action="#{daoPsController.saveDao()}" style="background-color: #036d3b; margin-right:5px;color:#fff"   update=":content">
			            <p:confirm header="Confirmation" message="Confirmez vous l'enregistrement?" icon="ui-icon-alert" />
			             <i class="ace-icon fa fa-save"></i> Enregistrer
	      </p:commandLink>
	      
	      <p:commandLink  styleClass="btn btn-success row pull-right" rendered="#{controleController.btn_dao_ps}" action="#{daoPsController.saveDaoPs()}" style="background-color: #036d3b; margin-right:5px;color:#fff"   update=":content">
			            <p:confirm header="Confirmation" message="Confirmez vous l'enregistrement?" icon="ui-icon-alert" />
			             <i class="ace-icon fa fa-save"></i> Enregistrer
	      </p:commandLink>
	      
         </div>
        </div>
       </div>
         
            </div>
            
            
           </div>
       
         </p:tab>
         
       <p:tab id="avis" title="Informations Générales" rendered="#{daoPsController.pavet3}" titleStyle="background-color: #f88b2e;background-image: none">
         <p:panel>
            <div class="row">    
            <div class="col-md-6">
            <div class="box box-success box-solid">
             <div class="box-header with-border">
            <div class="col-md-12 "><div  style="color: #fff">INFORMATIONS A SAISIR SUR L'AVIS</div></div>
         </div>
         <div class="box-body">
          <div class="form-group">
                  <label for="objet" class="col-sm-3 control-label">Objet</label>
                  <div class="col-sm-9">
                    <p:inputTextarea  rows="2" cols="33" styleClass="form-control" value="#{daoPsController.updateDac.aaoLibelle}"  id="objet" style="width: 100%" />
                  </div>
              </div>
              
              <div class="form-group">
                  <label for="nat" class="col-sm-3 control-label">National</label>
                  <div class="col-sm-9"> 
                    <p:selectBooleanCheckbox value="#{daoPsController.value1}"  itemLabel="BOMP"/> 
                    <p:selectBooleanCheckbox  itemLabel="INTERNATIONAL"/>
                  </div>
              </div>
              <div class="form-group">
                  <label for="Prix" class="col-sm-3 control-label">Nature des Prix</label>
                  <div class="col-sm-9"> 
                     <p:selectOneRadio value="#{daoPsController.updateDac.aaoNatPrix}" id="console" unselectable="true">
			            <f:selectItem itemLabel="Unitaire" itemValue="Unitaire" />
			            <f:selectItem itemLabel="Global et forfetaire" itemValue="Global et forfetaire" />
			        </p:selectOneRadio>
                  </div>
              </div>
              
                <div class="form-group">
                  <label  class="col-sm-3 control-label">Délai de validité des offres<span style="color:red;"> *</span></label>
				  <div class="col-sm-9">
				     <table>
				     <tr>
				     <td style="width: 210px"> <p:inputText type="text" value="#{daoPsController.updateDac.aaoDelaiVal}" styleClass="form-control"/></td>
				     <td style="width: 210px" >
				    
				     <!-- <div class="col-sm-9">  -->
                     <p:selectOneRadio value="#{daoPsController.choixTaux}" id="console12" unselectable="true">
                        <p:ajax  listener="#{daoPsController.checkTaux()}" update="gnl:libtaux" />
			            <f:selectItem itemLabel="Marge de Préférence" itemValue="marge" />
			        </p:selectOneRadio>
                  <!-- </div> -->
				     </td>
				          
				    <h:panelGroup  id="libtaux">
				     <td><h:panelGroup rendered="#{daoPsController.libelleTaux}" id="taux">Taux :</h:panelGroup> </td>
				     <td style="width: 80px"><h:panelGroup  rendered="#{daoPsController.etatTaux}"><p:inputText type="text" value="#{daoPsController.newAvis.aaoTaux}" styleClass="form-control"/></h:panelGroup> </td>
				    </h:panelGroup>
				     </tr>
				     </table>
				     
                  </div>
                </div>
               
                <div class="form-group">
                  <label  class="col-sm-3 control-label">Avis de non objection du bailleur</label>
                  <div class="col-sm-9"> 
                   <table>
				     <tr>
				     <td style="width: 50px"> 
				     <p:selectOneRadio value="#{daoPsController.updateDac.aaoAvisBai}" id="console22" unselectable="true">
			            <f:selectItem itemLabel="" itemValue="O" />
			        </p:selectOneRadio>
				     </td>
				     <td style="width: 220px">
				     <label  class="control-label">Responsabilité des bailleurs</label>
				     </td>
				     <td style="width: 320px">
				     <p:inputText  type="text" styleClass="form-control" value="#{daoPsController.updateDac.aaoRespBai}"   style="width: 100%" />
				     </td>
				     </tr>
				     </table>
                    
                  </div>
              </div>
                  
              <div class="form-group">
                  <label for="Prix" class="col-sm-3 control-label">Mode de qualification</label>
                  <div class="col-sm-9"> 
                     <p:selectOneRadio id="consoless" value="#{daoPsController.updateDac.aaoRegQual}" unselectable="true">
                     <p:ajax  listener="#{daoPsController.checkSituation()}" update="gnl:qualif"></p:ajax>
			            <f:selectItem itemLabel="Score" itemValue="Unitaire" />
			            <f:selectItem itemLabel="Conformité" itemValue="Conforme" />
			            <f:selectItem itemLabel="Autre Mode" itemValue="Autre" />
			        </p:selectOneRadio>
                  </div>
              </div>
               
               <h:panelGroup  id="qualif">
               <h:panelGroup  rendered="#{daoPsController.etatQualif}">
                <div class="form-group">
                <h:panelGroup  rendered="#{daoPsController.qualifLabel1}">  <label class="col-sm-3 control-label">Seuil de qualification<span style="color:red;"> *</span></label></h:panelGroup>
                <h:panelGroup  rendered="#{daoPsController.qualifLabel2}">  <label class="col-sm-3 control-label">Précisez le mode<span style="color:red;"> *</span></label></h:panelGroup>
				  <div class="col-sm-9">
		          <p:inputText  type="text" styleClass="form-control" value="#{daoPsController.updateDac.aaoPrecisModEval}"   style="width: 100%" />
                  </div>
                </div>
                </h:panelGroup>
                </h:panelGroup>
                <div class="form-group">
                  <label class="col-sm-3 control-label">Nombre de lot<span style="color:red;"> *</span></label>
				  <div class="col-sm-9">
		          <p:inputText  type="text" styleClass="form-control" value="#{daoPsController.updateDac.aaoNbrLot}"  style="width: 100%" />
                  </div>
                </div>
                
                <div class="form-group">
                  <label class="col-sm-3 control-label">Coût du DAO<span style="color:red;"> *</span></label>
				  <div class="col-sm-9">
		          <p:inputText  type="text" styleClass="form-control" value="#{daoPsController.updateDac.aaoCoutDac}" id="coutD"  style="width: 100%" >
		          <f:convertNumber pattern="##,###.##"></f:convertNumber> 
	              <p:ajax event="blur" process="@this" update="gnl:coutD" />
	              </p:inputText>
                  </div>
                </div>
                
         </div>
         </div>
         </div>
         <div class="row">
         <div class="col-md-6">
            <div class="box box-success box-solid">
             <div class="box-header with-border">
             <div class="col-md-12 "><div  style="color: #fff">RETRAIT DES #{controleController.type} CHEZ LE REPRESENTANT</div></div> 
			         <!-- <div class="col-md-2 "> 
			           <p:commandLink oncomplete="PF('DetailAdr').show()" styleClass="btn btn-warning btn-rounded waves-effect waves-light"  style="background-color: #f88b2e">
								<span class="btn-label"><i class="fa fa-plus"></i></span><span class="hidden-xs"></span>
								</p:commandLink>
			         </div> -->
         </div>
         <div class="box-body">
         <p:messages id="messages" showDetail="false" autoUpdate="true"  closable="true"/>   
                  <div class="col-sm-12">
		       	 </div>
		       	  <div class="form-group">
                  <label class="col-sm-1 control-label">Adresse</label>
				  <div class="col-sm-10">
                    <p:selectOneMenu value="#{daoPsController.updateDac.adaNum}" id="adress"
			            effect="fade" style="width:100%"> 
			            <f:selectItem  itemLabel="Choisir l'adresse"/>  
			            <f:selectItems value="#{daoPsController.listAdresse}" var="l" itemLabel="#{l.adaLibelle}" itemValue="#{l.adaNum}" />	
			            <p:ajax listener="#{daoPsController.chargeDetailAdresseDac()}" update=":gnl:detail"/>				   	   				    				   
			       </p:selectOneMenu>
                  </div>
                  <div class="col-sm-1">
                   <p:commandLink  oncomplete="PF('Adresse').show()" styleClass="btn btn-warning btn-rounded waves-effect waves-light"  style="color:#fff;background-color: #f88b2e">
							<i class="fa fa-plus"></i>
				</p:commandLink>
                  </div>
                </div>
                
                <p:dataList id="detail" value="#{daoPsController.listDetailAdresse}" var="slctdTb" type="definition">
			        #{slctdTb.liaLibelle} : <label class="text-muted">#{slctdTb.dtaLibelle}</label> 
			    </p:dataList>

              <div class="row">
                 <div class="box-body">
	                  <div class="box-group" id="accordion">
                          <div class="box-header">
                            <h4 class="box-title">
		                      <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" class="collapsed">
		                        cliquer Ici pour ajouter une nouvelle adresse
		                      </a>
		                    </h4>
                          </div>
                           <div id="collapseOne" class="panel-collapse collapse" aria-expanded="false" style="height: 0px;">
		                    <div class="box-body">
						        <div class="row">
				                  <div class="col-sm-11">
							            <p:selectOneMenu id="libelleAdresse" value="#{daoPsController.numLibAdr}" style="width: 100%">
							               <f:selectItems value="#{daoPsController.listLibelleAdresse}" var="l" itemLabel="#{l.liaLibelle}" itemValue="#{l.liaNum}" />		   				    				   
							            </p:selectOneMenu>
				                  </div>
				                  <div class="col-sm-1">
				                  <p:commandLink  oncomplete="PF('AdresseLib').show()" styleClass="btn btn-warning btn-rounded waves-effect waves-light"  style="color:#fff;background-color: #f88b2e">
											<i class="fa fa-plus"></i>
								  </p:commandLink>
				                  </div>
				              </div>
				               <div class="row">
								  <div class="col-sm-12">
						             <p:inputTextarea value="#{daoPsController.newDtailAdresse.dtaLibelle}" rows="2" cols="33" styleClass="form-control" style="width: 100%" />  
				                  </div>
				              </div>
				                <div class="row">    
					             <div class="col-sm-8"></div>
					              <div class="col-sm-4">  
									      <div class="pull-right ">
							            <p:commandLink  styleClass="btn btn-success row pull-right" style="background-color: #036d3b; margin-right:5px;color:#fff;margin-top:10px" action="#{daoPsController.saveDetailAdresse()}"  update=":gnl:detail">
							             <i class="ace-icon fa fa-save"></i> Enregistrer
							            </p:commandLink>
				                     </div>
				                     
				                     
				                   </div>
				              </div>
		                    </div>
		                  </div>
	                  </div>
                  </div>
              </div>
              
             
         </div>
         </div>
         </div>
         
          <div class="col-md-6">
            <div class="box box-success box-solid">
             <div class="box-header with-border">
            <div class="col-md-12 "><div  style="color: #fff">RECEPTION DES OFFRES</div></div>
         </div>
         <div class="box-body">
           <div class="form-group">
                  <label  class="col-sm-1 control-label">Lieu</label>
				  <div class="col-sm-4">
                  <p:inputText type="text" value="#{daoPsController.updateDac.aaoLieuRecep}" styleClass="form-control"  style="width: 100%" />    
                  </div>
                  <label  class="col-sm-1 control-label">Date</label>
				  <div class="col-sm-3">   
                  <p:calendar  value="#{daoPsController.updateDac.aaoDateRecep}"   style="width: 100%" /> 
                  </div>
                  <label  class="col-sm-1 control-label">Heure</label>
				  <div class="col-sm-2">
                  <p:inputText type="text" value="#{daoPsController.updateDac.aaoHeureRecep}" styleClass="form-control"  style="width: 100%" />    
                  </div>
                </div>
                 
         </div>
         </div>
         </div>
          <div class="col-md-6">
            <div class="box box-success box-solid">
             <div class="box-header with-border">
            <div class="col-md-12 "><div  style="color: #fff">OUVERTURE</div></div>
         </div>
         <div class="box-body">
                 <div class="form-group">
                  <label  class="col-sm-2 control-label">Lieu</label>
				  <div class="col-sm-7">
                  <p:inputText type="text" value="#{daoPsController.updateDac.aaoLieuExe}" styleClass="form-control"  style="width: 100%" />    
                  </div>
                  
                   <label  class="col-sm-1 control-label">Heure</label>
				  <div class="col-sm-2">
                  <p:inputText type="text" value="#{daoPsController.updateDac.aaoDteHeurOuv}" styleClass="form-control"  style="width: 100%" />    
                  </div>
                </div>
                 
                
                <div class="form-group">
                  <label  class="col-sm-2 control-label">Nbre Ouverture</label>
				  <div class="col-sm-2"> 
                  <p:selectOneMenu value="#{daoPsController.updateDac.aaoNbrOuv}"  effect="fade" style="width:100%">   
			            <f:selectItem itemLabel="1" itemValue="1" />
                        <f:selectItem itemLabel="2" itemValue="2" />				   	   				    				   
			       </p:selectOneMenu>
                     
                  </div>
                  <label  class="col-sm-2 control-label">Ouv Technique</label>
				  <div class="col-sm-2">    
                  <p:calendar value="#{daoPsController.updateDac.aaoDteOuvTec}"  style="width: 100%" /> 
                  </div>
                  <label  class="col-sm-2 control-label">Ouv Financière</label> 
				  <div class="col-sm-2">
                  <p:calendar value="#{daoPsController.updateDac.aaoDteOuvFin}"  style="width: 100%" />   
                  </div>
                </div>
         </div>
         </div>
         </div>
         </div>
         
         
  
           </div>
             <div class="row">
                <div class="pull-right ">
                       
                       
					       <p:commandLink  styleClass="btn btn-success row pull-right" style="background-color: #036d3b; margin-right:14px;color:#fff" action="#{daoPsController.saveAvis()}"  update=":content">
				            <p:confirm header="Confirmation" message="Confirmez vous l'enregistrement?" icon="ui-icon-alert" />
				             <i class="ace-icon fa fa-save"></i> Enregistrer
				            </p:commandLink>
					   
					     </div>
           </div>
          </p:panel>
         </p:tab>
         
		 <p:tab id="tabLot" rendered="#{daoPsController.pavet4}" title="Saisie des lots" titleStyle="background-color: #f88b2e;background-image: none">
           <div class="row">    
            <div class="col-md-12">
                    <div class="box box-success box-solid">
        <div class="box-header with-border">
            <div class="col-md-9 "><div  style="color: #fff">LISTE DES LOTS SAISIS </div></div> 
            <div class="col-md-1 ">
			 <p:commandLink oncomplete="PF('financedlg').show()"  data-toggle="modal" data-target="#modal-reglement" styleClass="btn btn-warning btn-rounded waves-effect waves-light"  style="background-color: #f88b2e">
				<span class="btn-label"><i class="fa fa-plus"></i></span><span class="hidden-xs"></span>Générer
			</p:commandLink>
		</div>
            
         <div class="col-md-1 ">
			 <p:commandLink oncomplete="PF('newLotdlg').show()"  data-toggle="modal" data-target="#modal-reglement" styleClass="btn btn-warning btn-rounded waves-effect waves-light"  style="background-color: #f88b2e">
				<span class="btn-label"><i class="fa fa-plus"></i></span><span class="hidden-xs"></span>Saisie
			</p:commandLink>
		</div>
         </div>
         <div class="box-body">
             <p:dataTable id="finance" styleClass="table mb0 dt-on-steroids dataTable" var="slctdTb" value="#{daoPsController.listeLots}"  editable="true" editMode="cell" emptyMessage="Aucun Lot enregistré">
         				<p:column headerText="N°Lot" styleClass="col-sm-1">
				            <h:outputText value="#{slctdTb.laaNum}"/>
				        </p:column>
				        <p:column headerText="LIBELLE" styleClass="col-sm-6">
				          <p:cellEditor>
		                <f:facet name="output">
		                <h:outputText value="#{slctdTb.laaObjet}" >
		                </h:outputText>
		                </f:facet>
		                <f:facet name="input"> 
		                <p:inputText id="LIBELLE" value="#{slctdTb.laaObjet}" style="width:100%">
		                 </p:inputText>
		                 </f:facet>
		               </p:cellEditor>
				        </p:column>
				        
				        
				        <p:column headerText="Imputation" styleClass="col-sm-3">
				          <p:cellEditor>
		                <f:facet name="output">
		                <h:outputText value="#{slctdTb.TLBudgets.lbgImputation}" >
		                </h:outputText>
		                </f:facet>
		                <f:facet name="input"> 
		                <p:inputText id="IMPUTATION" value="#{slctdTb.TLBudgets.lbgImputation}" style="width:100%">
		                 </p:inputText>
		                 </f:facet>
		               </p:cellEditor>
				        </p:column>
				        
                          <p:column width="3%">
				              <p:commandLink  oncomplete="PF('imputationDlg').show()" styleClass="btn btn-warning"  style="color:#fff;background-color: #f88b2e">
				              <f:setPropertyActionListener value="#{slctdTb}" target="#{daoPsController.selectLot}" />
							<i class="fa fa-plus"></i>
						  </p:commandLink>
				        </p:column>
                         
                
				        
				        
				         <p:column headerText="Actions" width="4%">
				            <p:commandLink styleClass="btn btn-xs btn-danger" style= "margin-left:5px" action="#{daoPsController.removeLot}" title="Supprimer" update="gnl">
			                   <i class="ace-icon fa fa-trash bigger-120"  style="color: white"></i>  
			                   <p:confirm header="Confirmation" message="Etes-vous sur de vouloir supprimer ?" icon="ui-icon-alert" />                              
			                   <f:setPropertyActionListener value="#{slctdTb}" target="#{daoPsController.selectLot}" />
			                </p:commandLink>
				        </p:column>
				        
                 </p:dataTable> 
                 
                  <br/> 
                
         </div>
         
         
         </div>
         </div>
           </div>
         </p:tab> 
         
         
         
         <p:tab id="Poffre" rendered="#{daoPsController.pavet5}" title="Pièces de l'offre" titleStyle="background-color: #f88b2e;background-image: none">
           <div class="row"> 
           <p:messages id="message3" showDetail="false" autoUpdate="true"  closable="true"/>
           
            <div class="col-md-12">
            
            	<h:panelGroup rendered="#{userController.renderMsg}">
				<br/>
				<div class="alert alert-success light alert-dismissable" >
				 <p:commandLink  styleClass="close" data-dismiss="alert" aria-hidden="true" 
				  action="#{userController.initMessage()}"  update=":content">
				<span class="hidden-xs"> x</span>
				</p:commandLink>
				<i class="fa fa-check pr10"></i>
				<strong>Succès!</strong> #{userController.texteMsg}.</div>
				</h:panelGroup>
			
                    <div class="box box-success box-solid">
        <div class="box-header with-border">
            <div class="col-md-9 "><div  style="color: #fff">PIECES CONSTITUTIVES DE L'OFFRE </div></div> 
         </div>
         <div class="box-body">
             <p:dataTable id="TPOffre" styleClass="table mb0 dt-on-steroids dataTable" var="slctdTb" value="#{daoPsController.listePiecesOffres}" 
             rowKey="#{slctdTb.tpoCode}" selection="#{daoPsController.listeSelectionPiecesOffres}" emptyMessage="Aucune Pièce trovée">
                       <p:column selectionMode="multiple" style="width:40px;text-align:center"/>
         				<p:column headerText="PIECES" styleClass="col-sm-12">
				            <h:outputText value="#{slctdTb.tpoLibelle}"/>
				        </p:column>
                 </p:dataTable> 
                  <br/> 
                 <div class="pull-right ">
			            <p:commandLink action="#{daoPsController.savePieceOffres()}" styleClass="btn btn-success row pull-right" style="background-color: #036d3b; margin-right:5px;color:#fff"  update=":gnl:finance">
			            <p:confirm header="Confirmation" message="Confirmez vous l'enregistrement?" icon="ui-icon-alert" />
			             <i class="ace-icon fa fa-save"></i> Enregistrer
			            </p:commandLink>
                 </div> 
         </div>
         
         
         </div>
         </div>
           </div>
         </p:tab> 
             
              
    <p:tab id="confirmation" rendered="#{daoPsController.pavet6}" title="Confirmation" titleStyle="background-color: #f88b2e;background-image: none">
            <p:panel>
             <div class="row">
             <div class="col-md-6">
	          <div class="box box-success box-solid">
               <div class="box-header with-border">
                  <div class="col-md-10 "><div  style="color: #fff">INFORMATIONS SUR LE #{controleController.type}</div></div> 
			         <div class="col-md-2 "> </div>
               </div>
	            <!-- /.box-header -->
	            <div class="box-body">
	             <div class="row">
                  <div class="col-sm-4"><label class="pull-right">Gestion </label></div>
                  <div class="col-sm-8">
                   <label><h:outputText styleClass="text-muted" value="#{daoPsController.gesCode}"  style="width: 100%"/></label> 
                  </div>
	             </div>
	             
	              <fieldset>
		               <legend style="font-weight: bold">PPM</legend>
		               <p:dataTable id="ppm" var="slctdTb" value="#{daoPsController.listSelectionPpmDao}"  styleClass="table dt-on-steroids mb0" emptyMessage="Aucun PPM trouvé">
					        <p:column headerText="N° Ordre" styleClass="col-sm-2">
					            <h:outputText value="#{slctdTb.dppId}"/>
					        </p:column>
					        
					         <p:column headerText="Objet de l'Opération" styleClass="col-sm-10">
					            <h:outputText value="#{slctdTb.dppObjet}" />
					        </p:column>
					    </p:dataTable>
		           </fieldset>
	              <div class="row">
                  <div class="col-sm-3"><label class="pull-right">Objet de l'Opération</label></div>
                  <div class="col-sm-9">
                    <label><h:outputText styleClass="text-muted" value="#{daoPsController.updateDac.dacObjet}" style="width: 100%"/></label>
                  </div>
	             </div>
	              <div class="row">
                  <div class="col-sm-3"><label class="pull-right">Type de marché</label></div>
                  <div class="col-sm-9">
                   <label><h:outputText styleClass="text-muted"  value="#{daoPsController.updateDac.tymCode} : #{daoPsController.updateDac.tymLibelleCourt}" style="width: 100%" readonly="true"/></label>
                  </div>
	             </div>
	              <div class="row">
                  <div class="col-sm-3"><label class="pull-right">Mode de passation</label></div>
                  <div class="col-sm-9">
                   <label><h:outputText styleClass="text-muted" value="#{daoPsController.updateDac.mopCode} : #{daoPsController.updateDac.mopLibelleLong}" style="width: 100%" readonly="true"/></label>
                  </div>
	             </div>
	             
	              <fieldset>
		               <legend style="font-weight: bold">Liste des pièces</legend>
		               <p:dataTable id="pieces" styleClass="table dt-on-steroids mb0" scrollable="true" scrollHeight="150" var="slctdTb" value="#{daoPsController.listePiecesDao}"  emptyMessage="Aucune pièce trouvée">
					        <p:column headerText="Code" styleClass="col-sm-2">
					            <h:outputText value="#{slctdTb.pidTpiCode}"/>
					        </p:column>
					        
					         <p:column headerText="Libellé" styleClass="col-sm-10">
					            <h:outputText value="#{slctdTb.pidLibelle}" />
					        </p:column>
					    </p:dataTable>
	        
		           </fieldset>
	             
	            </div>
	           </div>

	          
	          
	           <div class="box box-success box-solid">
               <div class="box-header with-border">
                  <div class="col-md-10 "><div  style="color: #fff">LISTE DES LOTS</div></div> 
			         <div class="col-md-2 "> </div>
               </div>
	            <!-- /.box-header -->
	            <div class="box-body">
	               <p:dataTable id="lots" styleClass="table dt-on-steroids mb0" scrollable="true" scrollHeight="150" var="slctdTb" value="#{daoPsController.listeLots}" emptyMessage="Aucun lot trouvé">
					        <p:column headerText="N°lot" styleClass="col-sm-1">
					            <h:outputText value="#{slctdTb.laaNum}"/>
					        </p:column>
					        <p:column headerText="Libellé" styleClass="col-sm-5">
					            <h:outputText value="#{slctdTb.laaObjet}" />
					        </p:column>
					         <p:column headerText="Imputation" styleClass="col-sm-2">
					            <h:outputText  value="#{slctdTb.TLBudgets.lbgImputation}"/>
					        </p:column>
					        
					    </p:dataTable>
	            </div>
	            </div>
	  
	           
	           
	           
            </div>
            <div class="col-md-6">
	           <div class="box box-success box-solid">
               <div class="box-header with-border">
                  <div class="col-md-10 "><div  style="color: #fff">INFORMATIONS SUR L'AVIS</div></div> 
			         <div class="col-md-2 "> </div>
               </div>
	            <!-- /.box-header -->
	            <div class="box-body">
	             <div class="row">
                  <div class="col-sm-4"><label class="pull-right">Objet</label></div>
                  <div class="col-sm-8">
                   <label><h:outputText styleClass="text-muted" value="#{daoPsController.updateDac.aaoLibelle}" style="width: 100%" readonly="true"/></label>
                  </div>
	             </div>
	             
	              <div class="row">
                  <div class="col-sm-4"><label class="pull-right">National</label></div>
                  <div class="col-sm-8">
                   <label><h:outputText styleClass="text-muted"  style="width: 100%" /></label>
                  </div>
	             </div>
	             
	            <div class="row">
                  <div class="col-sm-4"><label class="pull-right">Nature des Prix</label></div>
                  <div class="col-sm-8">
                   <label><h:outputText styleClass="text-muted" value="#{daoPsController.updateDac.aaoNatPrix}" style="width: 100%"/></label> 
                  </div>
	             </div>
	              <div class="row">
                  <div class="col-sm-4"><label class="pull-right">Délai de validité des offres</label></div>
                  <div class="col-sm-8">
                    <label><h:outputText styleClass="text-muted" value="#{daoPsController.updateDac.aaoDelaiVal}" style="width: 100%"/></label>
                  </div>
	             </div>
	              <div class="row">
                  <div class="col-sm-4"><label class="pull-right">Marge de Préférence</label></div>
                  <div class="col-sm-8">
                   <label><h:outputText styleClass="text-muted" value="#{daoPsController.updateDac.aaoAvisBail}"   style="width: 100%" readonly="true"/></label>
                  </div>
	             </div>
	             
	              <div class="row">
                  <div class="col-sm-4"><label class="pull-right">Taux</label></div>
                  <div class="col-sm-8">
                   <label><h:outputText styleClass="text-muted" value="#{daoPsController.updateDac.aaoTaux}"  style="width: 100%" readonly="true"/></label>
                  </div>
	             </div>
	             <div class="row">
                  <div class="col-sm-4"><label class="pull-right">Avis de non objection du bailleur</label></div>
                  <div class="col-sm-8">
                   <label><h:outputText styleClass="text-muted" value="#{daoPsController.updateDac.aaoAvisBai}"  style="width: 100%" readonly="true"/></label>
                  </div>
	             </div>
	              <div class="row">
                  <div class="col-sm-4"><label class="pull-right">Responsabilité des bailleurs</label></div>
                  <div class="col-sm-8">
                    <label><h:outputText styleClass="text-muted" value="#{daoPsController.updateDac.aaoRespBai}"  style="width: 100%" readonly="true"/></label>
                  </div>
	             </div>
	              <div class="row">
                  <div class="col-sm-4"><label class="pull-right">Mode de qualification</label></div>
                  <div class="col-sm-8">
                   <label><h:outputText styleClass="text-muted" value="#{daoPsController.updateDac.aaoRegQual}"  style="width: 100%" readonly="true"/></label>
                  </div>
	             </div>
	              <div class="row">
                  <div class="col-sm-4"><label class="pull-right">Seuil de qualification</label></div>
                  <div class="col-sm-8">
                    <label><h:outputText styleClass="text-muted" value="#{daoPsController.updateDac.aaoPrecisModEval}"  style="width: 100%" readonly="true"/></label>
                  </div>
	             </div>
	              <div class="row">
                  <div class="col-sm-4"><label class="pull-right">Nombre de lot </label></div>
                  <div class="col-sm-8">
                    <label><h:outputText styleClass="text-muted" value="#{daoPsController.updateDac.aaoNbrLot}"  style="width: 100%" readonly="true"/></label>
                  </div>
	             </div>
	             <div class="row">
                  <div class="col-sm-4"><label class="pull-right">Coût du DAO </label></div>
                  <div class="col-sm-8">
                    <label><h:outputText styleClass="text-muted" value="#{daoPsController.updateDac.aaoCoutDac}" style="width: 100%" readonly="true"> 
                    <f:convertNumber pattern="##,###.##"></f:convertNumber>
                    </h:outputText>  
                    </label>
                  </div>
	             </div>
	             <fieldset>
		               <legend style="font-weight: bold">Rétrait des Dao chez le representant</legend>
		                <div class="row">
                  
	                    </div>
	             <p:dataList id="confdetail" value="#{daoPsController.listDetailAdresse}" var="slctdTb" type="definition">
			        #{slctdTb.liaLibelle} : <label class="text-muted">#{slctdTb.dtaLibelle}</label> 
			    </p:dataList>
	             
		         </fieldset>
		          <fieldset>
		               <legend style="font-weight: bold">Réception des offres</legend>
		               
		         <div class="row">
                  <div class="col-sm-1"><label class="pull-right">Lieu</label></div>
                  <div class="col-sm-4">
                    <label><h:outputText styleClass="text-muted" value="#{daoPsController.updateDac.aaoLieuRecep}"  style="width: 100%" readonly="true"/></label>
                  </div>
                    <div class="col-sm-1"><label class="pull-right">Date</label></div>
                  <div class="col-sm-3">
                    <label><h:outputText styleClass="text-muted" value="#{daoPsController.updateDac.aaoDateRecep}" style="width: 100%" readonly="true"><f:convertDateTime pattern="MM/dd/yyyy" type="date" /></h:outputText></label>
                  </div>
                   <div class="col-sm-1"><label class="pull-right">Heure</label></div>
                  <div class="col-sm-3">
                    <label><h:outputText styleClass="text-muted" value="#{daoPsController.updateDac.aaoHeureRecep}" style="width: 100%" readonly="true"/></label>
                  </div>
	             </div>
		              
		         </fieldset>
		          <fieldset>
		               <legend style="font-weight: bold">Ouverture</legend>
		               
		                <div class="row">
                  <div class="col-sm-1"><label class="pull-right">Lieu</label></div>
                  <div class="col-sm-8">
                    <label><h:outputText styleClass="text-muted" value="#{daoPsController.updateDac.aaoLieuExe}"  style="width: 100%" readonly="true"/></label>
                  </div>
                    <div class="col-sm-2"><label class="pull-right">Heure</label></div>
                  <div class="col-sm-1">
                    <label><h:outputText styleClass="text-muted" value="#{daoPsController.updateDac.aaoDteHeurOuv}" style="width: 100%" readonly="true"/></label>
                  </div>
                 
	             </div>
		               
		         <div class="row">
                  <div class="col-sm-2"><label class="pull-right">Nbre Ouverture</label></div>
                  <div class="col-sm-3">
                    <label><h:outputText styleClass="text-muted" value="#{daoPsController.updateDac.aaoNbrOuv}"  style="width: 100%" readonly="true"/></label>
                  </div>
                    <div class="col-sm-2"><label class="pull-right">Ouv Technique</label></div>
                  <div class="col-sm-2">
                    <label><h:outputText styleClass="text-muted" value="#{daoPsController.updateDac.aaoDteOuvTec}" style="width: 100%" ><f:convertDateTime pattern="MM/dd/yyyy" type="date" /> </h:outputText></label>
                  </div>
                   <div class="col-sm-2"><label class="pull-right">Ouv Financière</label></div>
                  <div class="col-sm-2">
                    <label><h:outputText styleClass="text-muted" value="#{daoPsController.updateDac.aaoDteOuvFin}" style="width: 100%"><f:convertDateTime pattern="MM/dd/yyyy" type="date" /> </h:outputText></label>
                  </div>
	             </div>
		         </fieldset>
	            </div>
	           </div>
	           
            </div>
            </div>
             
              <div class="row">    
	             <div class="col-sm-8"></div>
	              <div class="col-sm-4"> 
	                   
				      <p:commandLink styleClass="btn btn-warning mr10 pull-right" style="background-color: #f88b2e; color:#fff" action="#{daoPsController.opendaoNew()}" ajax="false">
				     <i class="ace-icon fa fa-file-pdf-o bigger-120"></i> Télécharger le DAO
				      </p:commandLink>
				      
                   </div>
              </div>
           

            </p:panel>
            </p:tab>        
            
           
            </p:wizard>
     
      <p:commandLink styleClass="btn btn-warning" action="#{daoPsController.renderPage('dps1','OBSDPS')}" style="background-color: #f88b2e;" update=":content">
           <i class="ace-icon fa fa-close bigger-130"></i> Fermer
		</p:commandLink>
		
		

    </section>
    </h:form>
    
   
    <h:form id="dlogLign">
	        <p:dialog  widgetVar="imputationDlg" modal="true"  showEffect="fade" hideEffect="fade" width="60%" closable="true" header="Selectionnez la ligne Budgétaire">
				<div class="contentpanel">
					<div class="g12">	 
					<div class="panel-body panel-body-nopadding">
					<div class="row">
						 <div class="col-md-3">
						<label class="field append-icon">
							<p:inputText type="text" value="#{daoPsController.filtreLigne}"  class="gui-input"  placeholder="Saisir le code de la ligne"  > 
						    <p:ajax event="keyup" update=":dlogLign:natLigne" listener="#{daoPsController.filtreImputation()}" />
							</p:inputText>
						
						</label>
						</div>
						</div>
						
						<div class="form-bordered form-horizontal">			
                        <div class="form-group">
                        <h:panelGrid style="width:100%; vertical-align: top;">
						 <p:dataTable id="natLigne" styleClass="table table-bordered table-hover" var="slctdTb" value="#{daoPsController.listeImputations}"
						  selectionMode="single" rowKey="#{slctdTb.lbgCode}"
			               emptyMessage="Aucune ligne enregistrée" rows="10" paginator="true" rowsPerPageTemplate="5,10,15" >
			               
			               <p:column headerText="Code" styleClass="col-sm-4" >
                           <h:commandLink id="nature" title="Code Ligne" style="font-size:18px;"  action="#{daoPsController.onSelectLigneBudgetaire()}" >				        
         				   <h:outputText value="#{slctdTb.lbgCode}" />
                           <f:setPropertyActionListener value="#{slctdTb}" target="#{daoPsController.ligne}" />
                           </h:commandLink>
				         </p:column>
				         
				          <p:column headerText="Imputation" styleClass="col-sm-6" >
                          <h:commandLink id="imputation" title="Imputation" style="font-size:18px;"  action="#{daoPsController.onSelectLigneBudgetaire()}" >				        
         				  <h:outputText value="#{slctdTb.lbgImputation}" />
                          <f:setPropertyActionListener value="#{slctdTb}" target="#{daoPsController.ligne}" />
                          </h:commandLink>
				          </p:column>	
				        
				        <p:column headerText="Nature" styleClass="col-sm-6" >
                        <h:commandLink id="Nature" title="Nature de la ligne" style="font-size:18px;"  action="#{daoPsController.onSelectLigneBudgetaire()}" >				        
         				<h:outputText value="#{slctdTb.natLibelle}" />
                        <f:setPropertyActionListener value="#{slctdTb}" target="#{daoPsController.ligne}" />
                        </h:commandLink>
				        </p:column>
				        
				        <p:column headerText="Dotation" styleClass="col-sm-6" >
                        <h:commandLink id="dotation" title="Dotation Totale" style="font-size:18px;"  action="#{daoPsController.onSelectLigneBudgetaire()}" >				        
         				<h:outputText value="#{slctdTb.lbgTotDot}" />
                        <f:setPropertyActionListener value="#{slctdTb}" target="#{daoPsController.ligne}" />
                        </h:commandLink>
				        </p:column>	
				        
				        <p:column headerText="Disponible" styleClass="col-sm-6" >
                        <h:commandLink id="disponible" title="Montant Disponible" style="font-size:18px;"  action="#{daoPsController.onSelectLigneBudgetaire()}" >				        
         				<h:outputText value="#{slctdTb.lbgDisTot}" />
                        <f:setPropertyActionListener value="#{slctdTb}" target="#{daoPsController.ligne}" />
                        </h:commandLink>
				        </p:column>		
				        	
						</p:dataTable>
						</h:panelGrid>
                     </div>
                        
                   
                    </div>
				</div>
			</div>
	    </div>
      </p:dialog>
    </h:form>
    
     <h:form id="lotlog" styleClass="form-horizontal">
	       <p:dialog  widgetVar="financedlg" modal="true"  showEffect="fade" hideEffect="fade" width="40%" closable="true" header="Génération des Lots">
				<div class="contentpanel">
					 <div class="form-group ">
	                  <label for="lib" class="col-sm-2 control-label"><b>Libellé</b></label>
	                  <div class="col-sm-10">
	                  <p:inputText  type="text" styleClass="form-control" value="#{daoPsController.newVbTemp.tempLaaLibGenerique}" id="lib" style="width: 100%" />
	                  </div>
	                </div>
	                
                 
				  
				   <div class="form-group ">
	                  <label for="montCau" class="col-sm-2 control-label"><b>Intervalle de </b></label>
	                  <div class="col-sm-1">
	                    <p:inputText type="text" id="montCau" styleClass="form-control" value="#{daoPsController.newVbTemp.tempLaaNbrLotDebut}" style="width: 100%" />
	                  </div>
	                  
	                  <label for="mont" class="col-sm-1 control-label"><b>à</b></label>
	                  <div class="col-sm-1">
	                    <p:inputText type="text" id="mont" styleClass="form-control" value="#{daoPsController.newVbTemp.tempLaaNbrLotFin}" style="width: 100%" />
	                  </div>
	                </div>
	                 <div class="row">
                <div class="pull-right ">
			            <p:commandLink action="#{daoPsController.genererLot()}" styleClass="btn btn-success row pull-right" style="background-color: #036d3b; margin-right:5px;color:#fff" oncomplete="PF('financedlg').hide()" update=":gnl:finance">
			            <p:confirm header="Confirmation" message="Confirmez vous l'enregistrement?" icon="ui-icon-alert" />
			             <i class="ace-icon fa fa-save"></i> Générer			            </p:commandLink>
              </div>
                </div>
	           </div>
      </p:dialog>
    </h:form>
	
	
	<h:form id="NewLotlog" styleClass="form-horizontal"> 
	       <p:dialog  widgetVar="newLotdlg" modal="true"  showEffect="fade" hideEffect="fade" width="40%" closable="true" header="Saisie des lots">
				<div class="contentpanel">
					 <div class="form-group ">
	                  <label for="lib" class="col-sm-2 control-label"><b>Libellé</b></label>
	                  <div class="col-sm-10">
	                  <p:inputText  type="text" styleClass="form-control" value="#{daoPsController.newLot.laaObjet}"  id="lib" style="width: 100%" />
	                  </div>
	                </div>
	                
	              
                 <div class="form-group">
	                  <label  class="col-sm-2 control-label"></label>
					  <div class="col-sm-10">
					   <p:selectOneRadio id="consoless" value="#{daoPsController.sit}">
                     <p:ajax  listener="#{daoPsController.checkMtExig()}" update="NewLotlog:MtExig"></p:ajax>
			            <f:selectItem itemLabel="Caution provisoire exigée" itemValue="Caution_exigee" />
			        </p:selectOneRadio>
					  </div>
				  </div>
				  
				   <div class="form-group ">
				   <h:panelGroup id="MtExig">
				   <h:panelGroup rendered="#{daoPsController.etatMtExig}">
	                  <label for="montCau" class="col-sm-2 control-label"><b>Montant Caution</b></label>
	                  <div class="col-sm-4">
	                    <p:inputText type="text" id="montCau" styleClass="form-control" value="#{daoPsController.newLot.laaMtCaut}" style="width: 100%" />
	                  </div>
	                 </h:panelGroup>
	                 </h:panelGroup>
	                  
	                  <label for="mont" class="col-sm-2 control-label"><b>Cout Lot/DAO</b></label>
	                  <div class="col-sm-4">
	                    <p:inputText type="text" id="mont" styleClass="form-control" value="#{daoPsController.newLot.laaMtEst}" style="width: 100%" />
	                  </div>
	                </div>
                
	                 <div class="form-group ">
	                  <label for="lieu" class="col-sm-2 control-label"><b>Lieu d'exécution </b></label>
	                  <div class="col-sm-10">
	                  <p:inputText  type="text" styleClass="form-control" id="lieu" value="#{daoPsController.newLot.laaLieuExe}" style="width: 100%" /> 
	                  </div>
	                </div>
	                
	              
	                 <div class="row">
                <div class="pull-right ">
			            <p:commandLink action="#{daoPsController.saveLot()}"  styleClass="btn btn-success row pull-right" style="background-color: #036d3b; margin-right:5px;color:#fff" oncomplete="PF('newLotdlg').hide()" update=":NewLotlog">
			            <p:confirm header="Confirmation" message="Confirmez vous l'enregistrement?" icon="ui-icon-alert" />
			             <i class="ace-icon fa fa-save"></i> Enregistrer
			            </p:commandLink>
              </div>
                </div>
	           </div>
      </p:dialog>
    </h:form>
    
    <h:form id="dlogAC">
	        <p:dialog  widgetVar="autoriteDlg" modal="true"  showEffect="fade" hideEffect="fade" width="50%" closable="true" header="Selectionnez l'autorité contractante">
				<div class="contentpanel">
					<div class="g12">	 
					<div class="panel-body panel-body-nopadding">
					<div class="row">
						 <div class="col-md-3">
						<label class="field append-icon">
							<p:inputText type="text" value="#{daoPsController.filtreFonction}"  class="gui-input"  placeholder="Saisir l'autorité contractante"  > 
						     <p:ajax event="keyup" update=":dlogAC:pasFon" listener="#{daoPsController.filtreFonctionMin()}" />
							</p:inputText>
						
						</label>
						</div>
						</div>
						
						<div class="form-bordered form-horizontal">			
                        <div class="form-group">
                        <h:panelGrid style="width:100%; vertical-align: top;">
						 <p:dataTable id="pasFon" styleClass="table table-bordered table-hover" var="slctdTb" value="#{pgpmAcController.listeFonctions}"
						 selectionMode="single" rowKey="#{slctdTb.fonCod}"
			               emptyMessage="Aucune autorité contractante enregistrée" rows="10" paginator="true" rowsPerPageTemplate="5,10,15" >
			               
							<p:column headerText="Code" styleClass="col-sm-3" >
                        <h:commandLink  title="Code" style="font-size:18px;"  action="#{daoPsController.onSelectFonctionPgpmCpmp()}" update="gnl:auto">				        
         				  <h:outputText value="#{slctdTb.fonCod}" />
                          <f:setPropertyActionListener value="#{slctdTb}" target="#{daoPsController.fonction}" />
                                </h:commandLink>
				        </p:column>
						<p:column headerText="Fonction" styleClass="col-sm-9" >
                        <h:commandLink  title="Fonction" style="font-size:18px;"  action="#{daoPsController.onSelectFonctionPgpmCpmp()}">				        
         				  <h:outputText value="#{slctdTb.fonLibelle}" />
                          <f:setPropertyActionListener value="#{slctdTb}" target="#{daoPsController.fonction}" />
                                </h:commandLink>
				        </p:column>
				      
						</p:dataTable>
						</h:panelGrid>
                     </div>
                        
                   
                    </div>
				</div>
			</div>
	    </div>
      </p:dialog>
    </h:form>
    
     <h:form id="dlogDMP">
	        <p:dialog  widgetVar="DMPDlog" modal="true"  showEffect="fade" hideEffect="fade" width="50%" closable="true" header="Selectionnez l'autorité contractante">
				<div class="contentpanel">
					<div class="g12">	 
					<div class="panel-body panel-body-nopadding">
					<div class="row">
						 <div class="col-md-3">
						<label class="field append-icon">
							<p:inputText type="text" value="#{daoPsController.filtreFonction}"  class="gui-input"  placeholder="Saisir l'autorité contractante"  > 
						     <p:ajax event="keyup" update=":dlogDMP:ntle" listener="#{daoPsController.filtreFonctionMin()}" />
							</p:inputText>
						
						</label>
						</div>
						</div>
						
						<div class="form-bordered form-horizontal">			
                        <div class="form-group">
                        <h:panelGrid style="width:100%; vertical-align: top;">
						 <p:dataTable id="ntle" styleClass="table table-bordered table-hover" var="slctdTb" value="#{daoPsController.listeFonctions}"
						 selectionMode="single" rowKey="#{slctdTb.fonCod}"
			               emptyMessage="Aucune autorité contractante enregistrée" rows="10" paginator="true" rowsPerPageTemplate="5,10,15" >
			               
							<p:column headerText="Code" styleClass="col-sm-3" >
                        <h:commandLink  title="Code" style="font-size:18px;"  action="#{daoPsController.onSelectFonctionPgpmDmp()}" update="gnl:auto">				        
         				  <h:outputText value="#{slctdTb.fonCod}" />
                          <f:setPropertyActionListener value="#{slctdTb}" target="#{daoPsController.fonction}" />
                                </h:commandLink>
				        </p:column>
						<p:column headerText="Fonction" styleClass="col-sm-9" >
                        <h:commandLink  title="Fonction" style="font-size:18px;"  action="#{daoPsController.onSelectFonctionPgpmDmp()}">				        
         				  <h:outputText value="#{slctdTb.fonLibelle}" />
                          <f:setPropertyActionListener value="#{slctdTb}" target="#{daoPsController.fonction}" />
                                </h:commandLink>
				        </p:column>
				      
						</p:dataTable>
						</h:panelGrid>
                     </div>
                        
                   
                    </div>
				</div>
			</div>
	    </div>
      </p:dialog>
    </h:form>
    
    
    <h:form id="dlogAdr">
	  <p:dialog  widgetVar="Adresse" modal="true"  showEffect="fade" hideEffect="fade" width="40%" closable="true" header="">
	    <div class="row">    
            <div class="col-md-12">
                    <div class="box box-success box-solid">
        <div class="box-header with-border">
            <div  style="color: #fff">NOUVELLE ADRESSE</div>
         </div>
         <div class="box-body">
              
		       <div class="row">
                   <div class="form-group">
                  <label  class="col-sm-1 control-label">Libellé</label>
				  <div class="col-sm-11">
                  <p:inputText type="text" value="#{daoPsController.newAdresse.adaLibelle}" styleClass="form-control"  style="width: 100%" />    
                  </div>
				 
                </div>
                </div>
                
                
                 <div class="row">    
	             <div class="col-sm-8"></div>
	              <div class="col-sm-4">  
					
					      <div class="pull-right ">
			           
                     </div>
                     
                     
                   </div>
              </div>
         </div>
         
		            
         </div>
         </div>
         </div>
		
      </p:dialog>
    </h:form> 
    
    
    <h:form id="dlogAdrLib">
	  <p:dialog  widgetVar="AdresseLib" modal="true"  showEffect="fade" hideEffect="fade" width="40%" closable="true" header="">
	    <div class="row">    
            <div class="col-md-12">
                    <div class="box box-success box-solid">
        <div class="box-header with-border">
            <div  style="color: #fff">NOUVEAU LIBELLE</div>
         </div>
         <div class="box-body">
              
		       <div class="row">
                   <div class="form-group">
                  <label  class="col-sm-1 control-label">Libellé</label>
				  <div class="col-sm-11">
                  <p:inputText type="text" value="#{daoPsController.newLibelleAdresse.liaLibelle}" styleClass="form-control"  style="width: 100%" />    
                  </div>
				 
                </div>
                </div>
                 <div class="row">    
	             <div class="col-sm-8"></div>
	              <div class="col-sm-4">  
					
					      <div class="pull-right ">
			            
                     </div>
                     
                     
                   </div>
              </div>
         </div>
         
		          
              
         </div>
         </div>
         </div>
		
      </p:dialog>
    </h:form>
    

    <p:confirmDialog global="true" showEffect="fade" hideEffect="fade"  width="30%" height="25%" >
 		<div align="center">
        <p:commandButton value="Confirmer" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
        <p:commandButton value="Annuler" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
        </div>
    </p:confirmDialog>
    
</ui:define>
</ui:composition>
</html>
