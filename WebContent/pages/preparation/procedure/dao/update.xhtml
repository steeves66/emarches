<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
     <link rel="stylesheet" href="../resources/assets/css/ace.min.css"/>
<ui:composition template="/template/templatePage.xhtml">

	
	<ui:define name="contents">
	<h:form id="gnl" styleClass="form-horizontal">
<section class="content-header">
      <h1>
        <!-- #{controleController.libelle} -->
        <!-- SAISIE D'UN NOUVEAU DAO  -->
        #{controleController.libelleDao1} #{daoController.slctdTd.dacCode}
       <!--  <small> #{controleController.libellesmall} </small>  -->
      </h1>
      <ol class="breadcrumb">
      <li>
        <p:commandLink action="#{userController.renderPage('accueil')}" update=":content" > 
            <i class="fa fa-dashboard"></i>Accueil
             </p:commandLink>
            </li>
        <li>
        <p:commandLink action="#{daoController.renderPage('doa1')}" update=":content" > 
            <i class="fa fa-dashboard"></i>#{controleController.type} | Index
             </p:commandLink>
            </li>
        <li class="active">
         <p:commandLink action="#{daoController.renderPage('dao2')}" update=":content" > 
            <!-- <i class="fa fa-dashboard"></i>AGPM | #{controleController.libelle1}  -->
            <!-- Saisie d'un nouveau DAO --> 
            #{controleController.libelle1}
             </p:commandLink>
        </li>
      </ol>
    </section>
    
    <section class="content">
     <div class="box"></div>
    <h:panelGroup rendered="#{userController.renderMsg}">
				<br/>
				<div class="alert alert-success light alert-dismissable" >
				 <p:commandLink  styleClass="close" data-dismiss="alert" aria-hidden="true" 
				  action="#{userController.initMessage()}"  update=":content">
				<span class="hidden-xs"> x</span>
				</p:commandLink>
				<i class="fa fa-check pr10"></i>
				<strong>Succès!</strong> #{userController.texteMsg}.</div>
				</h:panelGroup>
      <p:messages id="message1" showDetail="false" autoUpdate="true"  closable="true"/>
      
     <p:wizard flowListener="#{daoController.onFlowProcess}" id="pwz" nextLabel="Suivant" backLabel="Précédent" >
        <p:tab id="creation" title="Initiation du #{controleController.type}" titleStyle="background-color: #f88b2e;background-image: none">
       
           <div class="row">
            <div class="col-md-12">
               
          <h:panelGroup rendered="#{controleController.ppmModePn}">     
           <div class="row">
            <div class="col-md-12">
              <div class="box box-success box-solid">
               <div class="box-header with-border">
                <div class="col-md-12 ">
                   <div  style="color: #fff">CHOISIR LE(S) PPM POUR CREER VOTRE #{controleController.type}</div>
                 </div>
                </div>
               <div class="box-body">
                 <div class="input-group input-group-sm col-md-3">
                      <label >
                      <p:inputText type="text"  value="#{daoController.multiFiltre}"  placeholder="saisir du PPM"/> 	
					</label>
					
					<button type="button" class="btn btn-xs btn-success" style="background-color: #036d3b">
                      <p:commandLink  title="Recherche" action="#{daoController.chargeRecherchePPM()}" update=":gnl">
                       <i class="ace-icon fa fa-search-plus bigger-130"  style="color: white"></i>
                      </p:commandLink>
                     </button>
                        

                      <span class="input-group-btn">
                        <p:commandLink styleClass="btn btn-warning btn-flat" action="#{daoController.chargePPM()}" value="Réinitialiser" style=" background-color: #f88b2e" update=":content" />
                        </span>
					 </div>
               <p:dataTable id="tblnat" styleClass="table mb0 dt-on-steroids dataTable" var="slctdTb" value="#{daoController.ppmDao}" 
                    emptyMessage="Aucun PPM enregistré" rows="5">
                         <p:column headerText="Objet de l'Opération" styleClass="col-sm-3" >
         				<h:outputText value="#{slctdTb.dppObjet}" />
				        </p:column>

                     
				       <p:column headerText="Ligne Budgétaire" styleClass="col-sm-2" >
         				<h:outputText value="#{slctdTb.lbgImputation}" />
				        </p:column>
				        <p:column headerText="Type Marché" styleClass="col-sm-3" >
         				<h:outputText value="#{slctdTb.tymLibelleCourt}" />
				        </p:column>
				       
         				 <p:column headerText="Structure Conductrice" styleClass="col-sm-4" >
         				<h:outputText value="#{slctdTb.dppStructureConduc}" />
				        </p:column> 
         				<p:column headerText="Structure Bénéficiare" styleClass="col-sm-3" >
         				<h:outputText value="#{slctdTb.dppStructureBenefi}" />
				        </p:column> 
				        
				        
				           <p:column width="5%" rendered="false">
				              <p:commandLink  oncomplete="PF('ppmDlg').show()" styleClass="btn btn-warning"  style="color:#fff;background-color: #f88b2e">
				              <f:setPropertyActionListener value="#{slctdTb}" target="#{daoController.selectLot}" />
							<i class="fa fa-pencil"></i>
						  </p:commandLink>
				        </p:column>
				       
                    </p:dataTable>
                    
                   <div>
                   
                   </div>

              </div>
             </div>
           </div>
         </div>
         </h:panelGroup>
         
         
        <div class="row">
          <div class="col-md-12">
           <div class="box box-success box-solid">
            <div class="box-header with-border">
             <div class="col-md-12 ">
               <div  style="color: #fff">INFORMATIONS A SAISIR SUR LE #{controleController.type}</div>
             </div>
            </div>
           <div class="box-body">
	           <div class="row">
	          <div class="col-md-6">
	           <div class="form-group">
                  <label for="relalisation" class="col-sm-3 control-label">Objet de l'Opération</label>
                  <div class="col-sm-9">
                    <p:inputTextarea  rows="2" cols="33" styleClass="form-control" value="#{daoController.slctdTd.dacObjet}" id="relalisation" style="width: 100%" />
                  </div>
              </div>
               
                 <div class="form-group">
                  <label class="col-sm-3 control-label">Type de marché<span style="color:red;"> *</span></label>
				  <div class="col-sm-9">
		                <p:inputText id="typMa1" type="text" value="#{daoController.slctdTd.dacTymCode} : #{daoController.slctdTd.tymLibelleCourt}" styleClass="form-control"  readonly="true" style="width: 100%" />
                  </div>
                </div> 
                 
              
                 <div class="form-group">
                  <label  class="col-sm-3 control-label">Mode de passation<span style="color:red;"> *</span></label>
				  <div class="col-sm-9">
                  <p:inputText id="modeP2" type="text" value="#{daoController.daoDetail.mopCode} : #{daoController.slctdTd.mopLibelleLong}" styleClass="form-control"  readonly="true" style="width: 100%" />    
                  </div>
                </div> 
            
	          </div>
	           <div class="col-md-6">
	               <fieldset>
		               <legend>Liste des pièces constitutives du #{controleController.type}</legend>
		  <p:dataTable id="basicDT" styleClass="table dt-on-steroids mb0" var="slctdTb" value="#{daoController.listePiecesDao}"
                        emptyMessage="Aucune pièce trouvée">
          
	        <p:column headerText="Code" styleClass="col-sm-2">
	            <h:outputText value="#{slctdTb.pidTpiCode}" />
	        </p:column>
	        
	         <p:column headerText="Piece " styleClass="col-sm-10">
	            <h:outputText value="#{slctdTb.pidLibelle}" />
	        </p:column>
	        
	        </p:dataTable>
	        
       
		      </fieldset>
		           
		           
	          </div>
	         
	          </div>
	          
	           
          </div>
          <p:commandLink  styleClass="btn btn-success row pull-right" rendered="false" action="#{daoController.saveDao()}" style="background-color: #036d3b; margin-right:5px;color:#fff"   update=":content">
			            <p:confirm header="Confirmation" message="Confirmez vous l'enregistrement?" icon="ui-icon-alert" />
			             <i class="ace-icon fa fa-save"></i> Enregistrer
	      </p:commandLink>
	      
	     
	      
         </div>
        </div>
       </div>
         
            </div>
            
            
           </div>
       
         </p:tab>
         
       <p:tab id="avis" title="Informations Générales" titleStyle="background-color: #f88b2e;background-image: none">
         <p:panel>
            <div class="row">    
            <div class="col-md-6">
            <div class="box box-success box-solid">
             <div class="box-header with-border">
            <div class="col-md-12 "><div  style="color: #fff">INFORMATIONS A SAISIR SUR L'AVIS</div></div>
         </div>
         <div class="box-body">
          <div class="form-group">
                  <label for="objet" class="col-sm-3 control-label">Objet</label>
                  <div class="col-sm-9">
                    <p:inputTextarea  rows="2" cols="33" styleClass="form-control" value="#{daoController.slctdTd.aaoLibelle}"  id="objet" style="width: 100%" />
                  </div>
              </div>
              
              <div class="form-group">
                  <label for="nat" class="col-sm-3 control-label">National</label>
                  <div class="col-sm-9"> 
                     <p:selectOneRadio value="#{daoController.slctdTd.aaoNatInt}" id="NatInt">
			            <f:selectItem itemLabel="BOMP" itemValue="N" />
			            <f:selectItem itemLabel="INTERNATIONAL" itemValue="I" />
			        </p:selectOneRadio>
                  </div>
              </div>
              <div class="form-group">
                  <label for="Prix" class="col-sm-3 control-label">Nature des Prix</label>
                  <div class="col-sm-9"> 
                     <p:selectOneRadio value="#{daoController.slctdTd.aaoNatPrix}" id="console" unselectable="true">
			            <f:selectItem itemLabel="Unitaire" itemValue="Unitaire" />
			            <f:selectItem itemLabel="Global et forfetaire" itemValue="Global et forfetaire" />
			        </p:selectOneRadio>
                  </div>
              </div>
              
                <div class="form-group">
                  <label  class="col-sm-3 control-label">Délai de validité des offres<span style="color:red;"> *</span></label>
				  <div class="col-sm-9">
				     <table>
				     <tr>
				     <td style="width: 210px"> <p:inputText type="text" value="#{daoController.slctdTd.aaoDelaiVal}" styleClass="form-control"/></td>
				     <td style="width: 210px" >
				    
				     <!-- <div class="col-sm-9">  -->
                     <p:selectOneRadio value="#{daoController.choixTaux}" id="console12" unselectable="true">
                        <p:ajax  listener="#{daoController.checkTaux()}" update="gnl:libtaux" />
			            <f:selectItem itemLabel="Marge de Préférence" itemValue="marge" />
			        </p:selectOneRadio>
                  <!-- </div> -->
				     </td>
				          
				    <h:panelGroup  id="libtaux">
				     <td><h:panelGroup rendered="#{daoController.libelleTaux}" id="taux">Taux :</h:panelGroup> </td>
				     <td style="width: 80px"><h:panelGroup  rendered="#{daoController.etatTaux}"><p:inputText type="text" value="#{daoController.newAvis.aaoTaux}" styleClass="form-control"/></h:panelGroup> </td>
				    </h:panelGroup>
				     </tr>
				     </table>
				     
                  </div>
                </div>
               
                <div class="form-group">
                  <label  class="col-sm-3 control-label">Avis de non objection du bailleur</label>
                  <div class="col-sm-9"> 
                   <table>
				     <tr>
				     <td style="width: 50px"> 
				     <p:selectOneRadio value="#{daoController.slctdTd.aaoAvisBai}" id="console22" unselectable="true">
			            <f:selectItem itemLabel="" itemValue="O" />
			        </p:selectOneRadio>
				     </td>
				     <td style="width: 220px">
				     <label  class="control-label">Responsable des bailleurs</label>
				     </td>
				     <td style="width: 320px">
				     <p:inputText  type="text" styleClass="form-control" value="#{daoController.slctdTd.aaoRespBai}"   style="width: 100%" />
				     </td>
				     </tr>
				     </table>
                    
                  </div>
              </div>
                  
              <div class="form-group">
                  <label for="Prix" class="col-sm-3 control-label">Mode de qualification</label>
                  <div class="col-sm-9"> 
                     <p:selectOneRadio id="consoless" value="#{daoController.slctdTd.aaoRegQual}" unselectable="true">
                     <p:ajax  listener="#{daoController.checkSituation()}" update="gnl:qualif"></p:ajax>
			            <f:selectItem itemLabel="Score" itemValue="Unitaire" />
			            <f:selectItem itemLabel="Conformité" itemValue="Conforme" />
			            <f:selectItem itemLabel="Autre Mode" itemValue="Autre" />
			        </p:selectOneRadio>
                  </div>
              </div>
               
               <h:panelGroup  id="qualif">
               <h:panelGroup  rendered="#{daoController.etatQualif}">
                <div class="form-group">
                <h:panelGroup  rendered="#{daoController.qualifLabel1}">  <label class="col-sm-3 control-label">Seuil de qualification<span style="color:red;"> *</span></label></h:panelGroup>
                <h:panelGroup  rendered="#{daoController.qualifLabel2}">  <label class="col-sm-3 control-label">Précisez le mode<span style="color:red;"> *</span></label></h:panelGroup>
				  <div class="col-sm-9">
		          <p:inputText  type="text" styleClass="form-control" value="#{daoController.slctdTd.aaoPrecisModEval}"   style="width: 100%" />
                  </div>
                </div>
                </h:panelGroup>
                </h:panelGroup>
                <div class="form-group">
                  <label class="col-sm-3 control-label">Nombre de lot<span style="color:red;"> *</span></label>
				  <div class="col-sm-9">
		          <p:inputText  type="text" styleClass="form-control" value="#{daoController.slctdTd.aaoNbrLot}"  style="width: 100%" />
                  </div>
                </div>
                
                <div class="form-group">
                  <label class="col-sm-3 control-label">Coût du #{controleController.type}<span style="color:red;"> *</span></label>
				  <div class="col-sm-9">
		          <p:inputText  type="text" styleClass="form-control" value="#{daoController.slctdTd.aaoCoutDac}" id="coutD"  style="width: 100%" >
		          <f:convertNumber pattern="##,###.##"></f:convertNumber> 
	              <p:ajax event="blur" process="@this" update="gnl:coutD" />
	              </p:inputText>
                  </div>
                </div>
                
         </div>
         </div>
         </div>
         <div class="row">
         <div class="col-md-6">
            <div class="box box-success box-solid">
             <div class="box-header with-border">
             <div class="col-md-12 "><div  style="color: #fff">RETRAIT DES #{controleController.type} CHEZ LE REPRESENTANT</div></div> 
			         <!-- <div class="col-md-2 "> 
			           <p:commandLink oncomplete="PF('DetailAdr').show()" styleClass="btn btn-warning btn-rounded waves-effect waves-light"  style="background-color: #f88b2e">
								<span class="btn-label"><i class="fa fa-plus"></i></span><span class="hidden-xs"></span>
								</p:commandLink>
			         </div> -->
         </div>
         <div class="box-body">
         <p:messages id="messages" showDetail="false" autoUpdate="true"  closable="true"/>   
                  <div class="col-sm-12">
		       	 </div>
		       	  <div class="form-group">
                  <label class="col-sm-1 control-label">Adresse</label>
				  <div class="col-sm-10">
                    <p:selectOneMenu value="#{daoController.slctdTd.aaoAdaNum}" id="adress"
			            effect="fade" style="width:100%"> 
			            <f:selectItem  itemLabel="Choisir l'adresse"/>  
			            <f:selectItems value="#{daoController.listAdresse}" var="l" itemLabel="#{l.adaLibelle}" itemValue="#{l.adaNum}" />	
			            <p:ajax listener="#{daoController.chargeDetailAdresse()}" update=":gnl:detail"/>				   	   				    				   
			       </p:selectOneMenu>
                  </div>
                  <div class="col-sm-1">
                   <p:commandLink  oncomplete="PF('Adresse').show()" styleClass="btn btn-warning btn-rounded waves-effect waves-light"  style="color:#fff;background-color: #f88b2e">
							<i class="fa fa-plus"></i>
				</p:commandLink>
                  </div>
                </div>
                
                <p:dataList id="detail" value="#{daoController.listDetailAdresse}" var="slctdTb" type="definition">
			        #{slctdTb.liaLibelle} : <label class="text-muted">#{slctdTb.dtaLibelle}</label> 
			    </p:dataList>

              <div class="row">
                 <div class="box-body">
	                  <div class="box-group" id="accordion">
                          <div class="box-header">
                            <h4 class="box-title">
		                      <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" class="collapsed">
		                        cliquer Ici pour ajouter une nouvelle adresse
		                      </a>
		                    </h4>
                          </div>
                           <div id="collapseOne" class="panel-collapse collapse" aria-expanded="false" style="height: 0px;">
		                    <div class="box-body">
						        <div class="row">
				                  <div class="col-sm-11">
							            <p:selectOneMenu id="libelleAdresse" value="#{daoController.numLibAdr}" style="width: 100%">
							               <f:selectItems value="#{daoController.listLibelleAdresse}" var="l" itemLabel="#{l.liaLibelle}" itemValue="#{l.liaNum}" />		   				    				   
							            </p:selectOneMenu>
				                  </div>
				                  <div class="col-sm-1">
				                  <p:commandLink  oncomplete="PF('AdresseLib').show()" styleClass="btn btn-warning btn-rounded waves-effect waves-light"  style="color:#fff;background-color: #f88b2e">
											<i class="fa fa-plus"></i>
								  </p:commandLink>
				                  </div>
				              </div>
				               <div class="row">
								  <div class="col-sm-12">
						             <p:inputTextarea value="#{daoController.newDtailAdresse.dtaLibelle}" rows="2" cols="33" styleClass="form-control" style="width: 100%" />  
				                  </div>
				              </div>
				                <div class="row">    
					             <div class="col-sm-8"></div>
					              <div class="col-sm-4">  
									      <div class="pull-right ">
							            <p:commandLink  styleClass="btn btn-success row pull-right" style="background-color: #036d3b; margin-right:5px;color:#fff;margin-top:10px" action="#{daoController.saveDetailAdresse()}"  update=":gnl:detail">
							             <i class="ace-icon fa fa-save"></i> Enregistrer
							            </p:commandLink>
				                     </div>
				                     
				                     
				                   </div>
				              </div>
		                    </div>
		                  </div>
	                  </div>
                  </div>
              </div>
              
             
         </div>
         </div>
         </div>
         
          <div class="col-md-6">
            <div class="box box-success box-solid">
             <div class="box-header with-border">
            <div class="col-md-12 "><div  style="color: #fff">RECEPTION DES OFFRES</div></div>
         </div>
         <div class="box-body">
           <div class="form-group">
                  <label  class="col-sm-1 control-label">Lieu</label>
				  <div class="col-sm-4">
                  <p:inputText type="text" value="#{daoController.slctdTd.aaoLieuRecep}" styleClass="form-control"  style="width: 100%" />    
                  </div>
                  <label  class="col-sm-1 control-label">Date</label>
				  <div class="col-sm-3">   
                  <p:calendar  value="#{daoController.slctdTd.aaoDateRecep}"   style="width: 100%" /> 
                  </div>
                  <label  class="col-sm-1 control-label">Heure</label>
				  <div class="col-sm-2">
                  <p:inputText type="text" value="#{daoController.slctdTd.aaoHeureRecep}" styleClass="form-control"  style="width: 100%" />    
                  </div>
                </div>
                 
         </div>
         </div>
         </div>
          <div class="col-md-6">
            <div class="box box-success box-solid">
             <div class="box-header with-border">
            <div class="col-md-12 "><div  style="color: #fff">OUVERTURE</div></div>
         </div>
         <div class="box-body">
                 <div class="form-group">
                  <label  class="col-sm-2 control-label">Lieu</label>
				  <div class="col-sm-7">
                  <p:inputText type="text" value="#{daoController.slctdTd.aaoLieuExe}" styleClass="form-control"  style="width: 100%" />    
                  </div>
                  
                   <label  class="col-sm-1 control-label">Heure</label>
				  <div class="col-sm-2">
                  <p:inputText type="text" value="#{daoController.slctdTd.aaoDteHeurOuv}" styleClass="form-control"  style="width: 100%" />    
                  </div>
                </div>
                 
                
                <div class="form-group">
                  <label  class="col-sm-2 control-label">Nbre Ouverture</label>
				  <div class="col-sm-2"> 
                  <p:selectOneMenu value="#{daoController.slctdTd.aaoNbrOuv}"  effect="fade" style="width:100%">   
			            <f:selectItem itemLabel="1" itemValue="1" />
                        <f:selectItem itemLabel="2" itemValue="2" />				   	   				    				   
			       </p:selectOneMenu>
                     
                  </div>
                  <label  class="col-sm-2 control-label">Ouv Technique</label>
				  <div class="col-sm-2">    
                  <p:calendar value="#{daoController.slctdTd.aaoDteOuvTec}"  style="width: 100%" /> 
                  </div>
                  <label  class="col-sm-2 control-label">Ouv Financière</label> 
				  <div class="col-sm-2">
                  <p:calendar value="#{daoController.slctdTd.aaoDteOuvFin}"  style="width: 100%" />   
                  </div>
                </div>
         </div>
         </div>
         </div>
         </div>
         
         
  
           </div>
             <div class="row">
                <div class="pull-right ">
                       
                       
					       <p:commandLink rendered="false" styleClass="btn btn-success row pull-right" style="background-color: #036d3b; margin-right:14px;color:#fff" action="#{daoController.saveAvis()}"  update=":content">
				            <p:confirm header="Confirmation" message="Confirmez vous l'enregistrement?" icon="ui-icon-alert" />
				             <i class="ace-icon fa fa-save"></i> Enregistrer
				            </p:commandLink>
					   
					     </div>
           </div>
          </p:panel>
         </p:tab>
         
		 <p:tab rendered="false" id="tabLot" title="Saisie des lots" titleStyle="background-color: #f88b2e;background-image: none">
           <div class="row">    
            <div class="col-md-12">
                    <div class="box box-success box-solid">
        <div class="box-header with-border">
            <div class="col-md-9 "><div  style="color: #fff">LISTE DES LOTS SAISIS </div></div> 
            <div class="col-md-1 ">
			 <p:commandLink oncomplete="PF('financedlg').show()"  data-toggle="modal" data-target="#modal-reglement" styleClass="btn btn-warning btn-rounded waves-effect waves-light"  style="background-color: #f88b2e">
				<span class="btn-label"><i class="fa fa-plus"></i></span><span class="hidden-xs"></span>Générer
			</p:commandLink>
		</div>
            
         <div class="col-md-1 ">
			 <p:commandLink oncomplete="PF('newLotdlg').show()"  data-toggle="modal" data-target="#modal-reglement" styleClass="btn btn-warning btn-rounded waves-effect waves-light"  style="background-color: #f88b2e">
				<span class="btn-label"><i class="fa fa-plus"></i></span><span class="hidden-xs"></span>Saisie
			</p:commandLink>
		</div>
         </div>
         <div class="box-body">
             <p:dataTable id="finance" styleClass="table mb0 dt-on-steroids dataTable" var="slctdTb" value="#{daoController.listeLots}"  editable="true" editMode="cell" emptyMessage="Aucun Lot enregistré">
         				<p:column headerText="N°Lot" styleClass="col-sm-1">
				            <h:outputText value="#{slctdTb.laaNum}"/>
				        </p:column>
				        <p:column headerText="LIBELLE" styleClass="col-sm-6">
				          <p:cellEditor>
		                <f:facet name="output">
		                <h:outputText value="#{slctdTb.laaObjet}" >
		                </h:outputText>
		                </f:facet>
		                <f:facet name="input"> 
		                <p:inputText id="LIBELLE" value="#{slctdTb.laaObjet}" style="width:100%">
		                 </p:inputText>
		                 </f:facet>
		               </p:cellEditor>
				        </p:column>
				        
				        
				        <p:column headerText="Imputation" styleClass="col-sm-3">
				          <p:cellEditor>
		                <f:facet name="output">
		                <h:outputText value="#{slctdTb.TLBudgets.lbgImputation}" >
		                </h:outputText>
		                </f:facet>
		                <f:facet name="input"> 
		                <p:inputText id="IMPUTATION" value="#{slctdTb.TLBudgets.lbgImputation}" style="width:100%">
		                 </p:inputText>
		                 </f:facet>
		               </p:cellEditor>
				        </p:column>
				        
                          <p:column width="3%">
				              <p:commandLink  oncomplete="PF('imputationDlg').show()" styleClass="btn btn-warning"  style="color:#fff;background-color: #f88b2e">
				              <f:setPropertyActionListener value="#{slctdTb}" target="#{daoController.selectLot}" />
							<i class="fa fa-plus"></i>
						  </p:commandLink>
				        </p:column>
                         
                
				        
				        
				         <p:column headerText="Actions" width="4%">
				            <p:commandLink styleClass="btn btn-xs btn-danger" style= "margin-left:5px" action="#{daoController.removeLot}" title="Supprimer" update="gnl">
			                   <i class="ace-icon fa fa-trash bigger-120"  style="color: white"></i>  
			                   <p:confirm header="Confirmation" message="Etes-vous sur de vouloir supprimer ?" icon="ui-icon-alert" />                              
			                   <f:setPropertyActionListener value="#{slctdTb}" target="#{daoController.selectLot}" />
			                </p:commandLink>
				        </p:column>
				        
                 </p:dataTable> 
                 
                  <br/> 
                
         </div>
         
         
         </div>
         </div>
           </div>
         </p:tab> 
         
         
         
        
    <p:tab rendered="false" id="confirmation" title="Confirmation" titleStyle="background-color: #f88b2e;background-image: none">
            <p:panel>
             <div class="row">
             <div class="col-md-6">
	          <div class="box box-success box-solid">
               <div class="box-header with-border">
                  <div class="col-md-10 "><div  style="color: #fff">INFORMATIONS SUR LE #{controleController.type}</div></div> 
			         <div class="col-md-2 "> </div>
               </div>
	            <!-- /.box-header -->
	            <div class="box-body">
	             <div class="row">
                  <div class="col-sm-4"><label class="pull-right">Gestion </label></div>
                  <div class="col-sm-8">
                   <label><h:outputText styleClass="text-muted" value="#{daoController.slctdTd.affDacGesCode}"  style="width: 100%"/></label> 
                  </div>
	             </div>
	             
	              <fieldset>
		               <legend style="font-weight: bold">PPM</legend>
		               <p:dataTable id="ppm" var="slctdTb" value="#{daoController.listSelectionPpmDao}"  styleClass="table dt-on-steroids mb0" emptyMessage="Aucun PPM trouvé">
					        <p:column headerText="N° Ordre" styleClass="col-sm-2">
					            <h:outputText value="#{slctdTb.dppId}"/>
					        </p:column>
					        
					         <p:column headerText="Objet de l'Opération" styleClass="col-sm-10">
					            <h:outputText value="#{slctdTb.dppObjet}" />
					        </p:column>
					    </p:dataTable>
		           </fieldset>
	              <div class="row">
                  <div class="col-sm-3"><label class="pull-right">Objet de l'Opération</label></div>
                  <div class="col-sm-9">
                    <label><h:outputText styleClass="text-muted" value="#{daoController.slctdTd.dacObjet}" style="width: 100%"/></label>
                  </div>
	             </div>
	              <div class="row">
                  <div class="col-sm-3"><label class="pull-right">Type de marché</label></div>
                  <div class="col-sm-9">
                   <label><h:outputText styleClass="text-muted"  value="#{daoController.slctdTd.tymCode} : #{daoController.slctdTd.tymLibelleCourt}" style="width: 100%" readonly="true"/></label>
                  </div>
	             </div>
	              <div class="row">
                  <div class="col-sm-3"><label class="pull-right">Mode de passation</label></div>
                  <div class="col-sm-9">
                   <label><h:outputText styleClass="text-muted" value="#{daoController.slctdTd.mopCode} : #{daoController.slctdTd.mopLibelleLong}" style="width: 100%" readonly="true"/></label>
                  </div>
	             </div>
	             
	              <fieldset>
		               <legend style="font-weight: bold">Liste des pièces</legend>
		               <p:dataTable id="pieces" styleClass="table dt-on-steroids mb0" scrollable="true" scrollHeight="150" var="slctdTb" value="#{daoController.listePiecesDao}"  emptyMessage="Aucune pièce trouvée">
					        <p:column headerText="Code" styleClass="col-sm-2">
					            <h:outputText value="#{slctdTb.pidTpiCode}"/>
					        </p:column>
					        
					         <p:column headerText="Libellé" styleClass="col-sm-10">
					            <h:outputText value="#{slctdTb.pidLibelle}" />
					        </p:column>
					    </p:dataTable>
	        
		           </fieldset>
	             
	            </div>
	           </div>

	          
	          
	           <div class="box box-success box-solid">
               <div class="box-header with-border">
                  <div class="col-md-10 "><div  style="color: #fff">LISTE DES LOTS</div></div> 
			         <div class="col-md-2 "> </div>
               </div>
	            <!-- /.box-header -->
	            <div class="box-body">
	               <p:dataTable id="lots" styleClass="table dt-on-steroids mb0" scrollable="true" scrollHeight="150" var="slctdTb" value="#{daoController.listeLots}" emptyMessage="Aucun lot trouvé">
					        <p:column headerText="N°lot" styleClass="col-sm-1">
					            <h:outputText value="#{slctdTb.laaNum}"/>
					        </p:column>
					        <p:column headerText="Libellé" styleClass="col-sm-5">
					            <h:outputText value="#{slctdTb.laaObjet}" />
					        </p:column>
					         <p:column headerText="Imputation" styleClass="col-sm-2">
					            <h:outputText  value="#{slctdTb.TLBudgets.lbgImputation}"/>
					        </p:column>
					        
					    </p:dataTable>
	            </div>
	            </div>
	  
	           
	           
	           
            </div>
            <div class="col-md-6">
	           <div class="box box-success box-solid">
               <div class="box-header with-border">
                  <div class="col-md-10 "><div  style="color: #fff">INFORMATIONS SUR L'AVIS</div></div> 
			         <div class="col-md-2 "> </div>
               </div>
	            <!-- /.box-header -->
	            <div class="box-body">
	             <div class="row">
                  <div class="col-sm-4"><label class="pull-right">Objet</label></div>
                  <div class="col-sm-8">
                   <label><h:outputText styleClass="text-muted" value="#{daoController.slctdTd.aaoLibelle}" style="width: 100%" readonly="true"/></label>
                  </div>
	             </div>
	             
	              <div class="row">
                  <div class="col-sm-4"><label class="pull-right">National</label></div>
                  <div class="col-sm-8">
                   <label><h:outputText styleClass="text-muted"  style="width: 100%" /></label>
                  </div>
	             </div>
	             
	            <div class="row">
                  <div class="col-sm-4"><label class="pull-right">Nature des Prix</label></div>
                  <div class="col-sm-8">
                   <label><h:outputText styleClass="text-muted" value="#{daoController.slctdTd.aaoNatPrix}" style="width: 100%"/></label> 
                  </div>
	             </div>
	              <div class="row">
                  <div class="col-sm-4"><label class="pull-right">Délai de validité des offres</label></div>
                  <div class="col-sm-8">
                    <label><h:outputText styleClass="text-muted" value="#{daoController.slctdTd.aaoDelaiVal}" style="width: 100%"/></label>
                  </div>
	             </div>
	              
	             
	              <div class="row">
                  <div class="col-sm-4"><label class="pull-right">Taux</label></div>
                  <div class="col-sm-8">
                   <label><h:outputText styleClass="text-muted" value="#{daoController.slctdTd.aaoTaux}"  style="width: 100%" readonly="true"/></label>
                  </div>
	             </div>
	             <div class="row">
                  <div class="col-sm-4"><label class="pull-right">Avis de non objection du bailleur</label></div>
                  <div class="col-sm-8">
                   <label><h:outputText styleClass="text-muted" value="#{daoController.slctdTd.aaoAvisBai}"  style="width: 100%" readonly="true"/></label>
                  </div>
	             </div>
	              <div class="row">
                  <div class="col-sm-4"><label class="pull-right">Responsable des bailleurs</label></div>
                  <div class="col-sm-8">
                    <label><h:outputText styleClass="text-muted" value="#{daoController.slctdTd.aaoRespBai}"  style="width: 100%" readonly="true"/></label>
                  </div>
	             </div>
	              <div class="row">
                  <div class="col-sm-4"><label class="pull-right">Mode de qualification</label></div>
                  <div class="col-sm-8">
                   <label><h:outputText styleClass="text-muted" value="#{daoController.slctdTd.aaoRegQual}"  style="width: 100%" readonly="true"/></label>
                  </div>
	             </div>
	              <div class="row">
                  <div class="col-sm-4"><label class="pull-right">Seuil de qualification</label></div>
                  <div class="col-sm-8">
                    <label><h:outputText styleClass="text-muted" value="#{daoController.slctdTd.aaoPrecisModEval}"  style="width: 100%" readonly="true"/></label>
                  </div>
	             </div>
	              <div class="row">
                  <div class="col-sm-4"><label class="pull-right">Nombre de lot </label></div>
                  <div class="col-sm-8">
                    <label><h:outputText styleClass="text-muted" value="#{daoController.slctdTd.aaoNbrLot}"  style="width: 100%" readonly="true"/></label>
                  </div>
	             </div>
	             <div class="row">
                  <div class="col-sm-4"><label class="pull-right">Coût du DAO </label></div>
                  <div class="col-sm-8">
                    <label><h:outputText styleClass="text-muted" value="#{daoController.slctdTd.aaoCoutDac}" style="width: 100%" readonly="true"> 
                    <f:convertNumber pattern="##,###.##"></f:convertNumber>
                    </h:outputText>  
                    </label>
                  </div>
	             </div>
	             <fieldset>
		               <legend style="font-weight: bold">Rétrait des Dao chez le representant</legend>
		                <div class="row">
                  
	                    </div>
	             <p:dataList id="confdetail" value="#{daoController.listDetailAdresse}" var="slctdTb" type="definition">
			        #{slctdTb.liaLibelle} : <label class="text-muted">#{slctdTb.dtaLibelle}</label> 
			    </p:dataList>
	             
		         </fieldset>
		          <fieldset>
		               <legend style="font-weight: bold">Réception des offres</legend>
		               
		         <div class="row">
                  <div class="col-sm-1"><label class="pull-right">Lieu</label></div>
                  <div class="col-sm-4">
                    <label><h:outputText styleClass="text-muted" value="#{daoController.slctdTd.aaoLieuRecep}"  style="width: 100%" readonly="true"/></label>
                  </div>
                    <div class="col-sm-1"><label class="pull-right">Date</label></div>
                  <div class="col-sm-3">
                    <label><h:outputText styleClass="text-muted" value="#{daoController.slctdTd.aaoDateRecep}" style="width: 100%" readonly="true"><f:convertDateTime pattern="MM/dd/yyyy" type="date" /></h:outputText></label>
                  </div>
                   <div class="col-sm-1"><label class="pull-right">Heure</label></div>
                  <div class="col-sm-3">
                    <label><h:outputText styleClass="text-muted" value="#{daoController.slctdTd.aaoHeureRecep}" style="width: 100%" readonly="true"/></label>
                  </div>
	             </div>
		              
		         </fieldset>
		          <fieldset>
		               <legend style="font-weight: bold">Ouverture</legend>
		               
		                <div class="row">
                  <div class="col-sm-1"><label class="pull-right">Lieu</label></div>
                  <div class="col-sm-8">
                    <label><h:outputText styleClass="text-muted" value="#{daoController.slctdTd.aaoLieuExe}"  style="width: 100%" readonly="true"/></label>
                  </div>
                    <div class="col-sm-2"><label class="pull-right">Heure</label></div>
                  <div class="col-sm-1">
                    <label><h:outputText styleClass="text-muted" value="#{daoController.slctdTd.aaoDteHeurOuv}" style="width: 100%" readonly="true"/></label>
                  </div>
                 
	             </div>
		               
		         <div class="row">
                  <div class="col-sm-2"><label class="pull-right">Nbre Ouverture</label></div>
                  <div class="col-sm-3">
                    <label><h:outputText styleClass="text-muted" value="#{daoController.slctdTd.aaoNbrOuv}"  style="width: 100%" readonly="true"/></label>
                  </div>
                    <div class="col-sm-2"><label class="pull-right">Ouv Technique</label></div>
                  <div class="col-sm-2">
                    <label><h:outputText styleClass="text-muted" value="#{daoController.slctdTd.aaoDteOuvTec}" style="width: 100%" ><f:convertDateTime pattern="MM/dd/yyyy" type="date" /> </h:outputText></label>
                  </div>
                   <div class="col-sm-2"><label class="pull-right">Ouv Financière</label></div>
                  <div class="col-sm-2">
                    <label><h:outputText styleClass="text-muted" value="#{daoController.slctdTd.aaoDteOuvFin}" style="width: 100%"><f:convertDateTime pattern="MM/dd/yyyy" type="date" /> </h:outputText></label>
                  </div>
	             </div>
		         </fieldset>
	            </div>
	           </div>
	           
            </div>
            </div>
             
              <div class="row">    
	             <div class="col-sm-8"></div>
	              <div class="col-sm-4"> 
	                   
				      <p:commandLink rendered="{controleController.etat_dao}" styleClass="btn btn-warning mr10 pull-right" style="background-color: #f88b2e; color:#fff" action="#{daoController.opendaoNew()}" ajax="false">
				     <i class="ace-icon fa fa-file-pdf-o bigger-120"></i> Télécharger le DAO
				      </p:commandLink>
				      
                   </div>
              </div>
           

            </p:panel>
            </p:tab>        
      
            </p:wizard>
            
        <!-- <h:panelGroup rendered="{controleController.update_fermer_dao}"> -->
        <p:commandLink  styleClass="btn btn-warning" action="#{daoController.renderPage('dao1','SAIDAO')}" style="background-color: #f88b2e;" update=":content">
           <i class="ace-icon fa fa-close bigger-130"></i> Fermer
		</p:commandLink>
		<!-- </h:panelGroup> -->
		
		<h:panelGroup rendered="{controleController.update_fermer_dps}">
        <p:commandLink  styleClass="btn btn-warning" action="#{daoController.renderPage('dps1','SAIDPS')}" style="background-color: #f88b2e;" update=":content">
         <i class="ace-icon fa fa-close bigger-130"></i> Fermer
		</p:commandLink>
		</h:panelGroup>
		
		<h:panelGroup rendered="{controleController.update_fermer_ami}">
		 <p:commandLink  styleClass="btn btn-warning" action="#{amiController.renderPage('ami1','SAIAMI')}" style="background-color: #f88b2e;" update=":content">
           <i class="ace-icon fa fa-close bigger-130"></i> Fermer
		</p:commandLink>
		</h:panelGroup>
		<h:panelGroup rendered="{controleController.update_fermer_prq}">
		 <p:commandLink styleClass="btn btn-warning" action="#{prqController.renderPage('prq1','SAIPRQ')}" style="background-color: #f88b2e;" update=":content">
           <i class="ace-icon fa fa-close bigger-130"></i> Fermer
		</p:commandLink>
		</h:panelGroup>
		
		
		 <div class="row">
		   <div class="col-md-5"></div>
		   <div class="col-md-6">
		     <p:commandLink rendered="{controleController.etat_dao}" styleClass="btn btn-warning mr10" style="background-color: #f88b2e; color:#fff" action="#{daoController.opendaoNew()}" ajax="false">
				   <i class="ace-icon fa fa-file-pdf-o bigger-120"></i> Télécharger le DAO
		    </p:commandLink>
		   </div>
		   <div class="col-md-6"></div>
		  </div>
		  
				    

    </section>
    </h:form>
    
   
    <h:form id="dlogLign">
	        <p:dialog  widgetVar="imputationDlg" modal="true"  showEffect="fade" hideEffect="fade" width="60%" closable="true" header="Selectionnez la ligne Budgétaire">
				<div class="contentpanel">
					<div class="g12">	 
					<div class="panel-body panel-body-nopadding">
					<div class="row">
						 <div class="col-md-3">
						<label class="field append-icon">
							<p:inputText type="text" value="#{daoController.filtreLigne}"  class="gui-input"  placeholder="Saisir le code de la ligne"  > 
						    <p:ajax event="keyup" update=":dlogLign:natLigne" listener="#{daoController.filtreImputation()}" />
							</p:inputText>
						
						</label>
						</div>
						</div>
						
						<div class="form-bordered form-horizontal">			
                        <div class="form-group">
                        <h:panelGrid style="width:100%; vertical-align: top;">
						 <p:dataTable id="natLigne" styleClass="table table-bordered table-hover" var="slctdTb" value="#{daoController.listeImputations}"
						  selectionMode="single" rowKey="#{slctdTb.lbgCode}"
			               emptyMessage="Aucune ligne enregistrée" rows="10" paginator="true" rowsPerPageTemplate="5,10,15" >
			               
			               <p:column headerText="Code" styleClass="col-sm-4" >
                           <h:commandLink id="nature" title="Code Ligne" style="font-size:18px;"  action="#{daoController.onSelectLigneBudgetaire()}" >				        
         				   <h:outputText value="#{slctdTb.lbgCode}" />
                           <f:setPropertyActionListener value="#{slctdTb}" target="#{daoController.ligne}" />
                           </h:commandLink>
				         </p:column>
				         
				          <p:column headerText="Imputation" styleClass="col-sm-6" >
                          <h:commandLink id="imputation" title="Imputation" style="font-size:18px;"  action="#{daoController.onSelectLigneBudgetaire()}" >				        
         				  <h:outputText value="#{slctdTb.lbgImputation}" />
                          <f:setPropertyActionListener value="#{slctdTb}" target="#{daoController.ligne}" />
                          </h:commandLink>
				          </p:column>	
				        
				        <p:column headerText="Nature" styleClass="col-sm-6" >
                        <h:commandLink id="Nature" title="Nature de la ligne" style="font-size:18px;"  action="#{daoController.onSelectLigneBudgetaire()}" >				        
         				<h:outputText value="#{slctdTb.natLibelle}" />
                        <f:setPropertyActionListener value="#{slctdTb}" target="#{daoController.ligne}" />
                        </h:commandLink>
				        </p:column>
				        
				        <p:column headerText="Dotation" styleClass="col-sm-6" >
                        <h:commandLink id="dotation" title="Dotation Totale" style="font-size:18px;"  action="#{daoController.onSelectLigneBudgetaire()}" >				        
         				<h:outputText value="#{slctdTb.lbgTotDot}" />
                        <f:setPropertyActionListener value="#{slctdTb}" target="#{daoController.ligne}" />
                        </h:commandLink>
				        </p:column>	
				        
				        <p:column headerText="Disponible" styleClass="col-sm-6" >
                        <h:commandLink id="disponible" title="Montant Disponible" style="font-size:18px;"  action="#{daoController.onSelectLigneBudgetaire()}" >				        
         				<h:outputText value="#{slctdTb.lbgDisTot}" />
                        <f:setPropertyActionListener value="#{slctdTb}" target="#{daoController.ligne}" />
                        </h:commandLink>
				        </p:column>		
				        	
						</p:dataTable>
						</h:panelGrid>
                     </div>
                        
                   
                    </div>
				</div>
			</div>
	    </div>
      </p:dialog>
    </h:form>
    
    
    <h:form id="dlogPPM">
	        <p:dialog  widgetVar="ppmDlg" modal="true"  showEffect="fade" hideEffect="fade" width="60%" closable="true" header="Selectionnez le PPM">
				<div class="contentpanel">
					<div class="g12">	 
					<div class="panel-body panel-body-nopadding">
					<div class="row">
						 <div class="col-md-3">
						<label class="field append-icon">
							<p:inputText type="text" value="#{daoController.filtreLigne}"  class="gui-input"  placeholder="Saisir le code de la ligne"  > 
						    <p:ajax event="keyup" update=":dlogLign:natLigne" listener="#{daoController.filtreImputation()}" />
							</p:inputText>
						
						</label>
						</div>
						</div>
						
						<div class="form-bordered form-horizontal">			
                        <div class="form-group">
                        <h:panelGrid style="width:100%; vertical-align: top;">
						<p:dataTable id="tblnat" styleClass="table mb0 dt-on-steroids dataTable" var="slctdTb" value="#{daoController.ppmDao}" 
                    emptyMessage="Aucun PPM enregistré" rows="5">
                         <p:column headerText="Objet de l'Opération" styleClass="col-sm-3" >
         				<h:outputText value="#{slctdTb.dppObjet}" />
				        </p:column>

                     
				       <p:column headerText="Ligne Budgétaire" styleClass="col-sm-2" >
         				<h:outputText value="#{slctdTb.lbgImputation}" />
				        </p:column>
				        <p:column headerText="Type Marché" styleClass="col-sm-3" >
         				<h:outputText value="#{slctdTb.tymLibelleCourt}" />
				        </p:column>
				       
         				 <p:column headerText="Structure Conductrice" styleClass="col-sm-4" >
         				<h:outputText value="#{slctdTb.dppStructureConduc}" />
				        </p:column> 
         				<p:column headerText="Structure Bénéficiare" styleClass="col-sm-3" >
         				<h:outputText value="#{slctdTb.dppStructureBenefi}" />
				        </p:column> 
				        </p:dataTable>
						</h:panelGrid>
                     </div>
                        
                   
                    </div>
				</div>
			</div>
	    </div>
      </p:dialog>
    </h:form>
    
     <h:form id="lotlog" styleClass="form-horizontal">
	       <p:dialog  widgetVar="financedlg" modal="true"  showEffect="fade" hideEffect="fade" width="40%" closable="true" header="Génération des Lots">
				<div class="contentpanel">
					 <div class="form-group ">
	                  <label for="lib" class="col-sm-2 control-label"><b>Libellé</b></label>
	                  <div class="col-sm-10">
	                  <p:inputText  type="text" styleClass="form-control" value="#{daoController.newVbTemp.tempLaaLibGenerique}" id="lib" style="width: 100%" />
	                  </div>
	                </div>
	                
                 
				  
				   <div class="form-group ">
	                  <label for="montCau" class="col-sm-2 control-label"><b>Intervalle de </b></label>
	                  <div class="col-sm-1">
	                    <p:inputText type="text" id="montCau" styleClass="form-control" value="#{daoController.newVbTemp.tempLaaNbrLotDebut}" style="width: 100%" />
	                  </div>
	                  
	                  <label for="mont" class="col-sm-1 control-label"><b>à</b></label>
	                  <div class="col-sm-1">
	                    <p:inputText type="text" id="mont" styleClass="form-control" value="#{daoController.newVbTemp.tempLaaNbrLotFin}" style="width: 100%" />
	                  </div>
	                </div>
	                 <div class="row">
                <div class="pull-right ">
			            <p:commandLink action="#{daoController.genererLot()}" styleClass="btn btn-success row pull-right" style="background-color: #036d3b; margin-right:5px;color:#fff" oncomplete="PF('financedlg').hide()" update=":gnl:finance">
			            <p:confirm header="Confirmation" message="Confirmez vous l'enregistrement?" icon="ui-icon-alert" />
			             <i class="ace-icon fa fa-save"></i> Générer			            </p:commandLink>
              </div>
                </div>
	           </div>
      </p:dialog>
    </h:form>
	
	
	<h:form id="NewLotlog" styleClass="form-horizontal"> 
	       <p:dialog  widgetVar="newLotdlg" modal="true"  showEffect="fade" hideEffect="fade" width="40%" closable="true" header="Saisie des lots">
				<div class="contentpanel">
					 <div class="form-group ">
	                  <label for="lib" class="col-sm-2 control-label"><b>Libellé</b></label>
	                  <div class="col-sm-10">
	                  <p:inputText  type="text" styleClass="form-control" value="#{daoController.newLot.laaObjet}"  id="lib" style="width: 100%" />
	                  </div>
	                </div>
	                
	              
                 <div class="form-group">
	                  <label  class="col-sm-2 control-label"></label>
					  <div class="col-sm-10">
					   <p:selectOneRadio id="consoless" value="#{daoController.sit}">
                     <p:ajax  listener="#{daoController.checkMtExig()}" update="NewLotlog:MtExig"></p:ajax>
			            <f:selectItem itemLabel="Caution provisoire exigée" itemValue="Caution_exigee" />
			        </p:selectOneRadio>
					  </div>
				  </div>
				  
				   <div class="form-group ">
				   <h:panelGroup id="MtExig">
				   <h:panelGroup rendered="#{daoController.etatMtExig}">
	                  <label for="montCau" class="col-sm-2 control-label"><b>Montant Caution</b></label>
	                  <div class="col-sm-4">
	                    <p:inputText type="text" id="montCau" styleClass="form-control" value="#{daoController.newLot.laaMtCaut}" style="width: 100%" />
	                  </div>
	                 </h:panelGroup>
	                 </h:panelGroup>
	                  
	                  <label for="mont" class="col-sm-2 control-label"><b>Cout Lot/DAO</b></label>
	                  <div class="col-sm-4">
	                    <p:inputText type="text" id="mont" styleClass="form-control" value="#{daoController.newLot.laaMtEst}" style="width: 100%" />
	                  </div>
	                </div>
                
	                 <div class="form-group ">
	                  <label for="lieu" class="col-sm-2 control-label"><b>Lieu d'exécution </b></label>
	                  <div class="col-sm-10">
	                  <p:inputText  type="text" styleClass="form-control" id="lieu" value="#{daoController.newLot.laaLieuExe}" style="width: 100%" /> 
	                  </div>
	                </div>
	                
	              
	                 <div class="row">
                <div class="pull-right ">
			            <p:commandLink action="#{daoController.saveLot()}"  styleClass="btn btn-success row pull-right" style="background-color: #036d3b; margin-right:5px;color:#fff" oncomplete="PF('newLotdlg').hide()" update=":NewLotlog">
			            <p:confirm header="Confirmation" message="Confirmez vous l'enregistrement?" icon="ui-icon-alert" />
			             <i class="ace-icon fa fa-save"></i> Enregistrer
			            </p:commandLink>
              </div>
                </div>
	           </div>
      </p:dialog>
    </h:form>
    
    <h:form id="dlogAC">
	        <p:dialog  widgetVar="autoriteDlg" modal="true"  showEffect="fade" hideEffect="fade" width="50%" closable="true" header="Selectionnez l'autorité contractante">
				<div class="contentpanel">
					<div class="g12">	 
					<div class="panel-body panel-body-nopadding">
					<div class="row">
						 <div class="col-md-3">
						<label class="field append-icon">
							<p:inputText type="text" value="#{daoController.filtreFonction}"  class="gui-input"  placeholder="Saisir l'autorité contractante"  > 
						     <p:ajax event="keyup" update=":dlogAC:pasFon" listener="#{daoController.filtreFonctionMin()}" />
							</p:inputText>
						
						</label>
						</div>
						</div>
						
						<div class="form-bordered form-horizontal">			
                        <div class="form-group">
                        <h:panelGrid style="width:100%; vertical-align: top;">
						 <p:dataTable id="pasFon" styleClass="table table-bordered table-hover" var="slctdTb" value="#{pgpmAcController.listeFonctions}"
						 selectionMode="single" rowKey="#{slctdTb.fonCod}"
			               emptyMessage="Aucune autorité contractante enregistrée" rows="10" paginator="true" rowsPerPageTemplate="5,10,15" >
			               
							<p:column headerText="Code" styleClass="col-sm-3" >
                        <h:commandLink  title="Code" style="font-size:18px;"  action="#{daoController.onSelectFonctionPgpmCpmp()}" update="gnl:auto">				        
         				  <h:outputText value="#{slctdTb.fonCod}" />
                          <f:setPropertyActionListener value="#{slctdTb}" target="#{daoController.fonction}" />
                                </h:commandLink>
				        </p:column>
						<p:column headerText="Fonction" styleClass="col-sm-9" >
                        <h:commandLink  title="Fonction" style="font-size:18px;"  action="#{daoController.onSelectFonctionPgpmCpmp()}">				        
         				  <h:outputText value="#{slctdTb.fonLibelle}" />
                          <f:setPropertyActionListener value="#{slctdTb}" target="#{daoController.fonction}" />
                                </h:commandLink>
				        </p:column>
				      
						</p:dataTable>
						</h:panelGrid>
                     </div>
                        
                   
                    </div>
				</div>
			</div>
	    </div>
      </p:dialog>
    </h:form>
    
     <h:form id="dlogDMP">
	        <p:dialog  widgetVar="DMPDlog" modal="true"  showEffect="fade" hideEffect="fade" width="50%" closable="true" header="Selectionnez l'autorité contractante">
				<div class="contentpanel">
					<div class="g12">	 
					<div class="panel-body panel-body-nopadding">
					<div class="row">
						 <div class="col-md-3">
						<label class="field append-icon">
							<p:inputText type="text" value="#{daoController.filtreFonction}"  class="gui-input"  placeholder="Saisir l'autorité contractante"  > 
						     <p:ajax event="keyup" update=":dlogDMP:ntle" listener="#{daoController.filtreFonctionMin()}" />
							</p:inputText>
						
						</label>
						</div>
						</div>
						
						<div class="form-bordered form-horizontal">			
                        <div class="form-group">
                        <h:panelGrid style="width:100%; vertical-align: top;">
						 <p:dataTable id="ntle" styleClass="table table-bordered table-hover" var="slctdTb" value="#{daoController.listeFonctions}"
						 selectionMode="single" rowKey="#{slctdTb.fonCod}"
			               emptyMessage="Aucune autorité contractante enregistrée" rows="10" paginator="true" rowsPerPageTemplate="5,10,15" >
			               
							<p:column headerText="Code" styleClass="col-sm-3" >
                        <h:commandLink  title="Code" style="font-size:18px;"  action="#{daoController.onSelectFonctionPgpmDmp()}" update="gnl:auto">				        
         				  <h:outputText value="#{slctdTb.fonCod}" />
                          <f:setPropertyActionListener value="#{slctdTb}" target="#{daoController.fonction}" />
                                </h:commandLink>
				        </p:column>
						<p:column headerText="Fonction" styleClass="col-sm-9" >
                        <h:commandLink  title="Fonction" style="font-size:18px;"  action="#{daoController.onSelectFonctionPgpmDmp()}">				        
         				  <h:outputText value="#{slctdTb.fonLibelle}" />
                          <f:setPropertyActionListener value="#{slctdTb}" target="#{daoController.fonction}" />
                                </h:commandLink>
				        </p:column>
				      
						</p:dataTable>
						</h:panelGrid>
                     </div>
                        
                   
                    </div>
				</div>
			</div>
	    </div>
      </p:dialog>
    </h:form>
    
    
    <h:form id="dlogAdr">
	  <p:dialog  widgetVar="Adresse" modal="true"  showEffect="fade" hideEffect="fade" width="40%" closable="true" header="">
	    <div class="row">    
            <div class="col-md-12">
                    <div class="box box-success box-solid">
        <div class="box-header with-border">
            <div  style="color: #fff">NOUVELLE ADRESSE</div>
         </div>
         <div class="box-body">
              
		       <div class="row">
                   <div class="form-group">
                  <label  class="col-sm-1 control-label">Libellé</label>
				  <div class="col-sm-11">
                  <p:inputText type="text" value="#{daoController.newAdresse.adaLibelle}" styleClass="form-control"  style="width: 100%" />    
                  </div>
				 
                </div>
                </div>
                
                
                 <div class="row">    
	             <div class="col-sm-8"></div>
	              <div class="col-sm-4">  
					
					      <div class="pull-right ">
			            <p:commandLink  styleClass="btn btn-success row pull-right" style="background-color: #036d3b; margin-right:5px;color:#fff;margin-top:15px" action="#{daoController.saveAdresse()}"  update=":gnl:adress">
			            <p:confirm header="Confirmation" message="Confirmez vous l'enregistrement?" icon="ui-icon-alert" />
			             <i class="ace-icon fa fa-save"></i> Enregistrer
			            </p:commandLink>
                     </div>
                     
                     
                   </div>
              </div>
         </div>
         
		            
         </div>
         </div>
         </div>
		
      </p:dialog>
    </h:form> 
    
    
    <h:form id="dlogAdrLib">
	  <p:dialog  widgetVar="AdresseLib" modal="true"  showEffect="fade" hideEffect="fade" width="40%" closable="true" header="">
	    <div class="row">    
            <div class="col-md-12">
                    <div class="box box-success box-solid">
        <div class="box-header with-border">
            <div  style="color: #fff">NOUVEAU LIBELLE</div>
         </div>
         <div class="box-body">
              
		       <div class="row">
                   <div class="form-group">
                  <label  class="col-sm-1 control-label">Libellé</label>
				  <div class="col-sm-11">
                  <p:inputText type="text" value="#{daoController.newLibelleAdresse.liaLibelle}" styleClass="form-control"  style="width: 100%" />    
                  </div>
				 
                </div>
                </div>
                 <div class="row">    
	             <div class="col-sm-8"></div>
	              <div class="col-sm-4">  
					
					      <div class="pull-right ">
			            <p:commandLink  styleClass="btn btn-success row pull-right" style="background-color: #036d3b; margin-right:5px;color:#fff;margin-top:15px" action="#{daoController.saveLibelleAdresse()}" oncomplete="PF('AdresseLib').hide()" update=":gnl:libelleAdresse">
			             <i class="ace-icon fa fa-save"></i> Enregistrer
			            </p:commandLink>
                     </div>
                     
                     
                   </div>
              </div>
         </div>
         
		          
              
         </div>
         </div>
         </div>
		
      </p:dialog>
    </h:form>
    

    <p:confirmDialog global="true" showEffect="fade" hideEffect="fade"  width="30%" height="25%" >
 		<div align="center">
        <p:commandButton value="Confirmer" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
        <p:commandButton value="Annuler" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
        </div>
    </p:confirmDialog>
    
</ui:define>
</ui:composition>
</html>
