<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">	
	<ui:composition>
			<div class="box box-success box-solid">
				<div class="box-header with-border">
					<div class="col-md-9">
						<div style="color: #fff">SAISIE DES ASSIGNATIONS DE
							L'OPERATEUR #{assignationController2.assignation.TOperateur.opeNom}</div>
					</div>
				</div>
				<p:outputPanel class="box-body" style="display:block; padding: 5px 5%" id="saisieAssignationBody">
					<div class="row">
						<div class="form-group">
							<label for="nom" class="col-sm-2 control-label"> 
								<b>Operateur<span style="color: red;"> *</span></b>
							</label>
							<div class="col-sm-10">
								<p:inputText value="#{assignationController2.assignation.TOperateur.opeNom}"
									type="text" styleClass="form-control" readonly="true"
									/>
							</div>
						</div>
						<div class="form-group ">
							<label for="typeFonction" class="col-sm-2 control-label"><b>Type
									Fonction <span style="color: red;"> *</span>
							</b></label>
							<div class="col-sm-10">
								<p:selectOneMenu id="typeFonction" rendered="true" requiredMessage="Champ obligatoire"
									effect="fade"
									style="width:100%" filter="true" filterMatchMode="startsWith" value="#{assignationController2.tyfCod}">
									
									<f:ajax event="change" execute="typeFonction" listener="#{assignationController2.onSelectTypeFonction()}" render="dlgChoixFonction fonctionAssignation"></f:ajax>
									<f:selectItem itemLabel ="Choisir le type de la fonction.." itemValue="" />
									<f:selectItems value="#{typeFonctionDao.findByOpeMatricule(assignationController2.assignation.TOperateur.opeMatricule)}"
										var="typeFonction" itemLabel="#{typeFonction.tyfCod} : #{typeFonction.tyfLibelle}"
										itemValue="#{typeFonction.tyfCod}" />
								</p:selectOneMenu>
							</div>
							<h:message for="typeFonction" styleClass="text-danger"/>
						</div>
	
						<div class="form-group">
							<label class="col-sm-2 control-label"><b>Fonction <span
									style="color: red;"> *</span>
							</b></label>
							<div class="col-sm-10">
								<table>
									<tr>
										<td style="width: 100%"><p:inputText id="fonctionAssignation"
												value="#{(assignationController2.assignation.TFonction.fonCod eq '' || assignationController2.assignation.TFonction.fonCod eq null) ? '' : ''.concat(assignationController2.assignation.TFonction.fonCod).concat(':').concat(assignationController2.assignation.TFonction.fonLibelle)}"
												type="text" styleClass="form-control" readonly="true" rendered="true" required="true" requiredMessage="Champ obligatoire"
												style="width: 100%" /></td>
										<td><p:commandLink
												oncomplete="PF('dlgChoixFonction').show()"
												
												styleClass="btn btn-warning"
												style="color:#fff;background-color: #f88b2e"
												update=":dlgChoixFonction">
												<i class="fa fa-search-plus"></i>
											</p:commandLink>
										</td>
									</tr>
								</table>
								<h:message for="fonctionAssignation" styleClass="text-danger"/>
							</div>
						</div>
	
						<div class="form-group">
							<label for="debut" class="col-sm-2 control-label" style="text-align: right;"><b>
									Du <span style="color: red;"> *</span>
							</b></label>
							<div class="col-md-2">
								<p:calendar id="debut"
									value="#{assignationController2.assignation.assDatDeb}"
									navigator="true" pattern="dd/MM/yyyy" mask="true" locale="fr" />
							</div>
							<label for="fin" class="col-sm-1 control-label" style="text-align: right;"><b> Au
									<span style="color: red;"> *</span>
							</b></label>
							<div class="col-md-2">
								<p:calendar id="fin"
									value="#{assignationController2.assignation.assDatFin}"
									navigator="true" pattern="dd/MM/yyyy" mask="true" locale="fr" />
							</div>
						</div>
	
	
						
							<div class="form-group">
								<label for="asscstart" class="col-md-2 col-sm-2 control-label" style="text-align: right; margin: 0xp;"><b>
										Assignation courante ? <span style="color: red;"> *</span>
								</b></label>
								<div class="col-md-4" style="margin: 0xp;">
									<p:selectOneRadio id="asscstart"
										value="#{assignationController2.assignation.assCourant}">
										<f:selectItem itemLabel="OUI" itemValue="O" />
										<f:selectItem itemLabel="NON" itemValue="N" />
									</p:selectOneRadio>
								</div>
								<label for="statut" class="col-sm-2 control-label"><b>
										Staut <span style="color: red;"> *</span>
								</b></label>
								<div class="col-md-4">
									<p:selectOneRadio id="statut"
										value="#{assignationController2.assignation.assStatut}">
										<f:selectItem itemLabel="Actif" itemValue="true" />
										<f:selectItem itemLabel="Inactif" itemValue="false" />
									</p:selectOneRadio>
								</div>
							</div>
					</div>
				</p:outputPanel>
				<div class="box-footer">
					<p:commandLink styleClass="btn btn-success row pull-right"
						action="#{assignationController2.enregistrerAssignation()}"
						style="background-color: #036d3b; margin-right:5px;color:#fff"
						update="frmAssignationWorkFlow frmAssignationWorkFlow:tblAssignation frmAssignationWorkFlow:saisieAssignationBody frmAssignationWorkFlow:btnPrintOperateur">
						<i class="ace-icon fa fa-save"></i>Enregistrer
					</p:commandLink>
				</div>
			</div>
	</ui:composition>
</html>