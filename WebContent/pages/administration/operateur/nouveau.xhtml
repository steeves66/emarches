
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<ui:composition template="/template/templatePage.xhtml">

	
	<ui:define name="contents">
	<h:form id="gnl">
<section class="content-header">
      <h1>
        Opérateur
        <small>Nouvel Operateur</small>
      </h1>
      <ol class="breadcrumb">
       <p:commandLink action="#{userController.renderPage('accueil')}" update=":content" > 
        <li><a><i class="fa fa-dashboard"></i> Acueil</a></li>
        </p:commandLink>
        <li class="active">Nouvel Operateur</li>
      </ol>
    </section>
    
    <section class="content">
     <div class="box"></div>
      <h:panelGroup rendered="#{userController.renderMsg}">
				<br/>
				<div class="alert alert-success light alert-dismissable" >
				 <p:commandLink  styleClass="close" data-dismiss="alert" aria-hidden="true" 
				  action="#{userController.initMessage()}"  update=":content">
				<span class="hidden-xs"> x</span>
				</p:commandLink>
				<i class="fa fa-check pr10"></i>
				<strong>Succès!</strong> #{userController.texteMsg}.</div>
				</h:panelGroup>
       <div class="box-body col-md-6 col-md-offset-3 form-horizontal">
       <div class="form-group ">
	                  <label for="mat" class="col-sm-3 control-label"><b> Matricule  <span style="color:red;"> *</span></b></label>
	                  <div class="col-sm-9">
	                    <p:inputText  value="#{operateurController.newOpe.opeMatricule}" type="text"  styleClass="form-control" readonly="true"  id="mat" style="width: 100%"/>
	                  </div>
	                </div> 
	               
	               <div class="form-group ">
	                  <label for="matFonc" class="col-sm-3 control-label"><b> Matricule fonctionnaire </b></label>
	                  <div class="col-sm-9">
	                    <p:inputText  value="#{operateurController.newOpe.opeMatriculeFonc}" type="text"  styleClass="form-control"  id="matFonc" style="width: 100%"/>
	                  </div>
	                </div>
	                
	                  <div class="form-group ">
	                  <label for="civilite" class="col-sm-3 control-label"><b>Civilité</b></label>
	                  <div class="col-sm-9">
	                   	<p:selectOneMenu id="civilite" value="#{operateurController.newOpe.opeEtatCivil}"  style="width:100%;">
			            <f:selectItem  itemLabel="Choisir..." itemValue="" />  
			             <f:selectItem  itemLabel="Mr" itemValue="Mr" />  
			           	  <f:selectItem  itemLabel="Mlle" itemValue="Mlle" /> 
			           	    <f:selectItem  itemLabel="Mme" itemValue="Mme" />   	
       		        </p:selectOneMenu>
	                  </div>
	                </div>  
	                <div class="form-group ">
	                  <label for="nom" class="col-sm-3 control-label"><b> Nom et Prenom(s)  <span style="color:red;"> *</span></b></label>
	                  <div class="col-sm-9">
	                    <p:inputText  value="#{operateurController.newOpe.opeNom}" type="text"  styleClass="form-control"  id="nom" style="width: 100%"/>
	                  </div>
	                </div>
	                
	              
	                
	                     <div class="form-group">
                  <label for="minStr" class="col-sm-3 control-label"><b>Structure  <span style="color:red;"> *</span></b></label>
				  <div class="col-sm-9">
				   <table>
		                 <tr>
		                 <td style="width: 650px">
		                 <p:inputTextarea rows="2" cols="33" styleClass="form-control" value="#{operateurController.recupStructure.strLibelleLong}" readonly="true" style="width: 100%" />
		                 </td>
		                 <td>
		                  <p:commandLink  oncomplete="PF('structureDlg').show()" action="#{operateurController.chargeStructure()}" styleClass="btn btn-warning"  style="color:#fff;background-color: #f88b2e" update=":dlogStructure">
							<i class="fa fa-search-plus"></i>
						  </p:commandLink>
		                 </td>
		                 </tr>
                     </table>
                  </div>
                </div>
	                 <div class="form-group ">
	                  <label for="fonaAdm" class="col-sm-3 control-label"><b> Fonction Administrative</b></label>
	                  <div class="col-sm-9">
	                    <p:inputText  value="#{operateurController.newOpe.opeFonctionAdminist}" type="text"  styleClass="form-control"  id="fonaAdm" style="width: 100%"/>
	                  </div>
	                </div>
	                  <div class="form-group ">
	                  <label for="Login" class="col-sm-3 control-label"><b>Login<span style="color:red;"> *</span></b></label>
	                  <div class="col-sm-9">
	                    <p:inputText value="#{operateurController.newOpe.opeLogin}"  type="text"  styleClass="form-control"  id="Login" style="width: 100%" />
	                  </div>
	                </div>
	                <div class="form-group ">
	                  <label for="password" class="col-sm-3 control-label"><b>Mot de passe<span style="color:red;"> *</span></b></label>
	                  <div class="col-sm-9">
	                    <p:inputText  value="#{operateurController.motPasse}" type="password"  styleClass="form-control"  id="password" style="width: 100%"/>
	                  </div>
	                </div>
	                  <div class="form-group ">
	                  <label for="Confirmation" class="col-sm-3 control-label"><b>Confirmation<span style="color:red;"> *</span></b></label>
	                  <div class="col-sm-9">
	                    <p:inputText value="#{operateurController.motPasse2}" type="password"  styleClass="form-control"  id="Confirmation" style="width: 100%" />
	                  </div>
	                </div>
	                 <div class="form-group ">
	                  <label for="tit" class="col-sm-3 control-label"><b>Email</b></label>
	                  <div class="col-sm-9">
	                    <p:inputText value="#{operateurController.newOpe.opeMail}"  type="text"  styleClass="form-control"  id="tit" style="width: 100%" />
	                  </div>
	                </div>
	                <div class="form-group ">
	                  <label for="contact" class="col-sm-3 control-label"><b>Contact</b></label>
	                  <div class="col-sm-9">
	                    <p:inputText  value="#{operateurController.newOpe.opeContact}"  styleClass="form-control"  id="contact" style="width: 100%"/>
	                  </div>
	                </div>
	     <div class="row">
	       <div class="col-sm-3"></div> 
	       <div class="col-sm-9">   
			 <p:commandLink styleClass="btn btn-warning mr10 " style=" background-color: #f88b2e" action="#{operateurController.renderPage('ope1')}"  update=":content">
		       <i class="ace-icon fa fa-close bigger-130"></i> Fermer
		     </p:commandLink>
				      
		<div class="pull-right ">
			 <p:commandLink  styleClass="btn btn-success" style="background-color: #036d3b" action="#{operateurController.creerOperateur()}"  update=":content">
			    <p:confirm header="Confirmation" message="Confirmez vous l'enregistrement?" icon="ui-icon-alert" />
			    <i class="ace-icon fa fa-save"></i> Enregistrer
			 </p:commandLink>
	     </div>
		       </div>
		       </div>
       
        
       </div>    
    </section>
    </h:form>
    
     <h:form id="dlogStructure">
	        <p:dialog  widgetVar="structureDlg" modal="true"  showEffect="fade" hideEffect="fade" width="60%" closable="true" header="Selectionnez la structure">
				<div class="contentpanel">
					<div class="g12">	 
					<div class="panel-body panel-body-nopadding">
					<div class="row">
						 <div class="col-md-6">
						 
				    <div class="input-group input-group-sm col-md-12">
					    <span class="input-group-btn">
				                <p:commandLink action="#{operateurController.chargeStructure()}" styleClass="btn btn-warning btn-flat" value="Initialiser" style=" background-color: #f88b2e" update="ndTbleStructure" />
				        </span>
                      <p:inputText  id="filtreMarche" type="text" value="#{operateurController.filtreStructLibLong}"  placeholder="saisir la structure" styleClass="gui-input" style="width: 100%"  /> 
                       <span class="input-group-btn">
                      <p:commandLink action="#{operateurController.filtreStructure()}" styleClass="btn btn-warning btn-flat" value="Rechercher" style=" background-color: #f88b2e"  update="ndTbleStructure"/>
                    </span>
					 </div>
						 
						
						</div>
						</div>
						
						<div class="form-bordered form-horizontal">			
                        <div class="form-group">
                        <h:panelGrid style="width:100%; vertical-align: top;">
						 <p:dataTable id="ndTbleStructure" styleClass="table table-bordered table-hover" var="slctdTb" value="#{operateurController.listStructure}"
						  selectionMode="single" rowKey="#{slctdTb.strCode}"
			               emptyMessage="Aucune structure" rows="10" paginator="true" rowsPerPageTemplate="5,10,15" >
				          <p:column headerText="Libelle" styleClass="col-sm-11" >
                           <h:commandLink id="Structure" title="Structure" style="font-size:18px;"  action="#{operateurController.onSelectStructure()}" update="gnl">				        
         				  <h:outputText value="#{slctdTb.strLibelleLong}" />
                              <f:setPropertyActionListener value="#{slctdTb}" target="#{operateurController.structure}" />
                                </h:commandLink>
				        </p:column>		
						</p:dataTable>
						</h:panelGrid>
                     </div>
                        
                   
                    </div>
				</div>
			</div>
	    </div>
      </p:dialog>
    </h:form>
    
     
    
    <p:confirmDialog global="true" showEffect="fade" hideEffect="fade"  width="30%" height="25%" >
 		<div align="center">
        <p:commandButton value="Confirmer" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
        <p:commandButton value="Annuler" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
        </div>
    </p:confirmDialog>
    
</ui:define>
</ui:composition>
</html>
